---
title: 멀티모듈 구조 고민해보기
date: 2025-11-24 22:00:00 +0900
categories: [경험하기, 작업 노트]
tags: []
---

## 모듈 ?
---
> 독립적인 배포 / 실행 단위 ?
> core는 실행은 안되니까 .. 음 .. 뭐라고 표현하는게 적절할까

## 내가 경험했던 멀티모듈
---
> 나의 경우는 보통, 하나의 도메인을 공유하는 api / admin / batch 모듈이 있고, core에 도메인 관련 공통적인 코드나, 로직 등을 응집해놓는 역할로 사용

- 즉, 생각해보면:
  - 코드 중복 줄이고,
  - 재사용성 증가
- 정도의 이점을 누렸던 것 같다.

- 반면 단점은:
  - 굳이 core에 있지 않아도 될 코드들도 다 core로 들어오게 되는 경우가 많은 것 같음
    - 빌드시간 증가, 코드 파악하는데 시간이 더 걸림,
    - 특정 모듈에서만 사용하는게 적절한데 의도치않게 다른 모듈에서 사용하면 추후 변경시 영향 범위가 넓어짐 등
  - 불필요한 의존성이 늘어나게됨
    - ex : batch에서는 web이 굳이 필요 없을 수 있는데, core에 있으면 다 적용받음, db 커넥션이 불필요하게 많아질 수 있음


## 생각해보기
---

### 서비스를 위해 필요한 구성요소들

**애플리케이션**
- api 애플리케이션
- 어드민(운영)용 애플리케이션
- 사용자 서비스 애플리케이션
- 배치 애플리케이션

**개발할때 필요한 구성요소들 생각해보기**
- 공통
  - 인프라 관련
    - DB
    - Kafka
    - Redis
  - Util 기능
  - 공통 비즈니스 로직 처리
  - 공통 응답 포맷
  - 공통 예외
  - 외부 호출 템플릿 ?
  - 로깅
  - 도메인 모델(엔티티) / VO

- 애플리케이션별
  - config => 커넥션풀에 세팅되는 커넥션 개수, 배치 설정 등등
  - end point
  - 요청/응답 포맷
  - 비즈니스 로직
  - 모듈 특화 예외
  - 특정 서비스 호출
  - 조회 전용 모델 등

### 멀티모듈을 통해 얻을 수 있는 이점으로 재사용성 이외에 또 어떤것들이 있고, 단점은 어떻게 줄일 수 있을까 ?

```
multi-module-service
├── core
└── infrastructure
  ├── db-mysql
  ├── broker-kafka
  └── cache-redis
```
=> 이런식이면 필요한 모듈에서 필요한 infra만 의존할 수 있다. => 즉 의존성 격리가 core만 사용할때보단 잘됨

=> jpa, mybatis 까지 나누고 싶으면 ??

### core의 역할을 어디까지로 정하는게 좋을까 ?


## 실전 자료
---

- https://engineering.linecorp.com/ko/blog/mono-repo-multi-project-gradle-plugin
- https://www.youtube.com/watch?v=ipDzLJK-7Kc
- https://www.youtube.com/watch?v=uvG-amw2u2s
- https://techblog.woowahan.com/2637/
