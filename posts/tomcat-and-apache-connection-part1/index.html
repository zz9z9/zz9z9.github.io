<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Infra - Tomcat &amp; Apache HTTP Server 연동" /><meta property="og:locale" content="en_US" /><meta name="description" content="들어가기 전 Tomcat과 Apache HTTP Server 연동과 관련된 기초 지식을 살펴보고, 다음 파트에서는 실제로 연동하는 작업을 진행해보려고 한다." /><meta property="og:description" content="들어가기 전 Tomcat과 Apache HTTP Server 연동과 관련된 기초 지식을 살펴보고, 다음 파트에서는 실제로 연동하는 작업을 진행해보려고 한다." /><link rel="canonical" href="https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/" /><meta property="og:url" content="https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/" /><meta property="og:site_name" content="zz9z9" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-10T13:25:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Infra - Tomcat &amp; Apache HTTP Server 연동" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-10T13:25:00+09:00","datePublished":"2022-02-10T13:25:00+09:00","description":"들어가기 전 Tomcat과 Apache HTTP Server 연동과 관련된 기초 지식을 살펴보고, 다음 파트에서는 실제로 연동하는 작업을 진행해보려고 한다.","headline":"Infra - Tomcat &amp; Apache HTTP Server 연동","mainEntityOfPage":{"@type":"WebPage","@id":"https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/"},"url":"https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/"}</script><title>Infra - Tomcat & Apache HTTP Server 연동 | zz9z9</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zz9z9"><meta name="application-name" content="zz9z9"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-Q7PWLG5WYT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Q7PWLG5WYT'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Soccerball.svg/1000px-Soccerball.svg.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zz9z9</a></div><div class="site-subtitle font-italic">거창한 계획보다는, 꾸준한 실행을</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zz9z9" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Infra - Tomcat & Apache HTTP Server 연동</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Infra - Tomcat & Apache HTTP Server 연동</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Lee JaeYoon </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 10, 2022, 1:25 PM +0900" prep="on" > Feb 10, 2022 <i class="unloaded">2022-02-10T13:25:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2248 words">12 min</span></div></div><div class="post-content"><h1 id="들어가기-전">들어가기 전</h1><hr /><p>Tomcat과 Apache HTTP Server 연동과 관련된 기초 지식을 살펴보고, 다음 파트에서는 실제로 연동하는 작업을 진행해보려고 한다.</p><h1 id="apache-tomcat-connectors">Apache Tomcat Connectors</h1><hr /><blockquote><p>Apache Tomcat Connectors 프로젝트는 Tomcat 프로젝트의 일부이며, 웹 서버를 Tomcat 및 기타 백엔드와 연결하기 위한 웹 서버 플러그인을 제공한다.</p></blockquote><ul><li>지원되는 웹 서버는 다음과 같다.</ul><div class="table-wrapper"><table><thead><tr><th>웹 서버<th>플러그인<tbody><tr><td>Apache HTTP Server<td>mod_jk<tr><td>Microsoft IIS<td>ISAPI redirector<tr><td>iPlanet Web Server<td>NSAPI redirector</table></div><ul><li>플러그인 대부분의 기능은 모든 웹 서버에서 동일하며, 세부 사항은 웹 서버별로 다를 수 있다.<li>모든 경우에 플러그인은 <code class="language-plaintext highlighter-rouge">Apache JServ Protocol(AJP)</code> 라는 특수 프로토콜을 사용하여 백엔드에 연결한다.<li><code class="language-plaintext highlighter-rouge">AJP</code>를 지원하는 것으로 알려진 백엔드는 <code class="language-plaintext highlighter-rouge">Apache Tomcat</code>, <code class="language-plaintext highlighter-rouge">Jetty</code>, <code class="language-plaintext highlighter-rouge">JBoss</code> 등이 있다.<li>프로토콜에는 <code class="language-plaintext highlighter-rouge">ajp12</code>, <code class="language-plaintext highlighter-rouge">ajp13</code>, <code class="language-plaintext highlighter-rouge">ajp14</code>의 3가지 버전이 있지만, 아직까지 대부분의 경우 <code class="language-plaintext highlighter-rouge">ajp13</code>만 사용한다.<ul><li><code class="language-plaintext highlighter-rouge">AJP 1.3</code> 또는 <code class="language-plaintext highlighter-rouge">AJPv13</code>이라고 부르지만 주로 <code class="language-plaintext highlighter-rouge">ajp13</code>라는 이름을 사용한다.<li>톰캣은 3.2 버전 이후로 <code class="language-plaintext highlighter-rouge">ajp13</code>을 지원한다.</ul></ul><h1 id="apache-http-server---tomcat-연동">Apache HTTP Server - Tomcat 연동</h1><blockquote><p>위에서 살펴봤듯이 <code class="language-plaintext highlighter-rouge">mod_jk</code>를 사용하여 연동한다. (최소 버전 : Apache 1.3, Tomcat 3.2)</p></blockquote><figure align="center"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/155136015-f91e631a-2c16-4aaa-9389-459838169266.png" width="80%" /><figcaption align="center"><a href="https://www.akadia.com/download/soug/tomcat/html/tomcat_apache.html"> 출처 : https://www.akadia.com/download/soug/tomcat/html/tomcat_apache.html</a></figcaption></figure><ul><li>웹 서버(<code class="language-plaintext highlighter-rouge">Apache HTTP Server</code>)는 클라이언트 HTTP 요청을 기다리고 있는다.<ul><li>요청이 도착하면 서버는 필요한 콘텐츠를 제공하여 요청을 처리하는 데 필요한 모든 작업을 수행한다.</ul><li>서블릿 컨테이너(위의 경우 <code class="language-plaintext highlighter-rouge">Tomcat</code>)를 추가하면 웹 서버는 다음과 같이 동작한다.<ul><li>요청을 처리하기 전에, 서블릿 컨테이너 어댑터 라이브러리를 로드하고 초기화한다.<li>요청이 오면, 특정 요청이 서블릿에 속하는지 확인해야 하며, 서블릿에 속하는 경우 어댑터가 요청을 받아 처리하도록 한다.<li>어댑터는 일반적으로 요청 URL의 일부 패턴과 요청을 보낼 위치를 기반으로 어떤 요청을 처리할지 알아야한다.</ul></ul><h2 id="mod_jk-관련-사항">mod_jk 관련 사항</h2><blockquote><p>mod_jk는 두 개의 엔티티가 필요하다.</p></blockquote><ol><li>mod_jk.xxx<ul><li>Apache HTTP Server 모듈<ul><li>운영 체제에 따라 <code class="language-plaintext highlighter-rouge">mod_jk.so</code>, <code class="language-plaintext highlighter-rouge">mod_jk.nlm</code> 또는 <code class="language-plaintext highlighter-rouge">MOD_JK.SRVPGM</code></ul><li>먼저 Apache HTTP Server의 모듈 디렉토리(예:<code class="language-plaintext highlighter-rouge">/usr/lib/apache</code>)에 설치되어야 하며 <code class="language-plaintext highlighter-rouge">httpd.conf</code> 파일에서 로드되어야 한다.<ul><li>ex : <code class="language-plaintext highlighter-rouge">LoadModule jk_module modules/mod_jk.so</code></ul></ul><li>workers.properties<ul><li>Tomcat 프로세스가 사용하는 호스트, 포트 등을 정의하는 파일이다. (아래 Worker 파트 참조)<li><code class="language-plaintext highlighter-rouge">workers.properties</code>파일은 <code class="language-plaintext highlighter-rouge">${APACHE_HOME}/conf</code> 디렉토리에 있다.<li><code class="language-plaintext highlighter-rouge">httpd.conf</code>에서 해당 파일의 경로를 정의해야 한다.<ul><li>ex : <code class="language-plaintext highlighter-rouge">JkWorkersFile /etc/httpd/conf/workers.properties</code></ul></ul></ol><h3 id="아파치-httpdconf-mod_jk-관련-부분-예시">아파치 <code class="language-plaintext highlighter-rouge">httpd.conf</code> mod_jk 관련 부분 예시</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre># Load mod_jk module
LoadModule    jk_module  modules/mod_jk.so

# Where to find workers.properties
JkWorkersFile /etc/httpd/conf/workers.properties

# Where to put jk shared memory
JkShmFile     /var/log/httpd/mod_jk.shm

# Where to put jk logs
JkLogFile     /var/log/httpd/mod_jk.log

# Set the jk log level [debug/error/info]
JkLogLevel    info

# Send requests for context /examples to worker named worker1
JkMount  /examples/* worker1
</pre></table></code></div></div><h2 id="연동시-주의사항">연동시 주의사항</h2><ul><li>Apache와 Tomcat이 동일한 파일 시스템 위치에서 콘텐츠를 제공하도록 구성된 경우, Apache가 <code class="language-plaintext highlighter-rouge">WEB-INF</code> 디렉토리 또는 <code class="language-plaintext highlighter-rouge">JSP</code> 소스 코드와 같은 콘텐츠(서블릿 컨테이너가 처리해야하는 콘텐츠)를 제공하지 않도록 해야한다.<ul><li>Apache <code class="language-plaintext highlighter-rouge">DocumentRoot</code>가 Tomcat Host의 <code class="language-plaintext highlighter-rouge">appBase</code> 또는 Context의 <code class="language-plaintext highlighter-rouge">docBase</code>와 겹치면 발생할 수 있다.<li>Apache <code class="language-plaintext highlighter-rouge">Alias</code> 지시문을 Tomcat Host의 <code class="language-plaintext highlighter-rouge">appBase</code> 또는 Context의 <code class="language-plaintext highlighter-rouge">docBase</code>와 함께 사용하면 발생할 수 있다.</ul></ul><h1 id="worker">Worker</h1><hr /><h2 id="tomcat-worker">Tomcat Worker</h2><blockquote><p>Tomcat Worker는 일부 웹 서버를 대신하여 서블릿 또는 기타 콘텐츠를 실행하기 위해 대기 중인 Tomcat 인스턴스이다. <br /></p></blockquote><p>※ 참고 : <a href="https://tomcat.apache.org/connectors-doc/common_howto/workers.html">공식 문서</a>를 보면 Tomcat Worker를 다음과 같이 정의한다.</p><ul><li><p>“A Tomcat worker is a Tomcat instance that is waiting to execute servlets on behalf of some web server. For example, we can have a web server such as the Apache HTTP Server forwarding servlet requests to a Tomcat process (the worker) running behind it.”</p><li><p>대표적으로 다음과 같은 경우, 여러 개의 worker를 구성할 수도 있다.</p><ul><li>모든 개발자가 동일한 웹 서버를 공유하지만, 자신의 worker를 소유하는 개발 환경이 필요한 경우.<li>하나의 웹 서버에서 여러 사이트를 제공하기 위해, 톰캣 프로세스별 가상 호스트가 필요한 경우.<li>로드 밸런싱을 제공하고자 하는 경우.<ul><li>즉, 자체 머신에서 여러 worker를 실행하고 요청을 분배해야 한다.</ul></ul></ul><h3 id="worker-정의하기">Worker 정의하기</h3><blockquote><p><code class="language-plaintext highlighter-rouge">workers.properties</code>라는 속성 파일에 정의된다. (경로 : <code class="language-plaintext highlighter-rouge">${APACHE_HOME}/conf</code>)</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">worker.list</code>로 worker를 정의한다.<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre># worker 리스트
worker.list= worker1, worker2
</pre></table></code></div></div><li>웹 서버를 시작할 때, 웹 서버 플러그인(예 : <code class="language-plaintext highlighter-rouge">mod_jk</code>)은 <code class="language-plaintext highlighter-rouge">worker.list</code> 속성에 나열된 worker를 인스턴스화한다.<ul><li>인스턴스화된 worker는 자신에게 맵핑된 특정 요청을 전달받을 수 있다.</ul><li><code class="language-plaintext highlighter-rouge">worker.list</code>는 여러 번 사용할 수 있다.</ul><h3 id="worker-type">Worker Type</h3><ul><li>현재 존재하는 Worker Type 다음과 같다. (JK 1.2.5):</ul><div class="table-wrapper"><table><thead><tr><th>Type<th>정의<tbody><tr><td>ajp13<td>이 타입의 worker는 ajp13 프로토콜을 사용하여 Tomcat worker에게 요청을 전달한다.<tr><td>lb<td>로드 밸런싱 worker로써, 특정 수준의 내결함성과 함께 유연한 로드 밸런싱을 제공한다.<tr><td>status<td>로드밸런서를 관리하기 위한 status worker이다.<tr><td>ajp12<td>이 타입의 worker는 ajp12 프로토콜을 사용하여 Tomcat worker에게 요청을 전달한다.<tr><td>ajp14<td>이 타입의 worker는 ajp14 프로토콜을 사용하여 Tomcat worker에게 요청을 전달한다.</table></div><h2 id="worker-type별-속성-살펴보기">Worker Type별 속성 살펴보기</h2><blockquote><p><code class="language-plaintext highlighter-rouge">workers.properties</code>파일에 세팅되는 속성과 관련해서 자세한 내용은 <a href="https://tomcat.apache.org/connectors-doc/reference/workers.html">공식 문서</a> 참조</p></blockquote><h3 id="ajp13-worker-살펴보기">ajp13 Worker 살펴보기</h3><blockquote><p>TCP/IP 소켓을 통해 ajp13 프로토콜을 사용하여 Tomcat Worker에게 요청을 전달한다.</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre># "worker2"는 3lb 팩터를 사용하여 www2.x.com가 올라간 서버의 포트 8009에서 수신 대기 중인 Tomcat과 통신한다.
worker.worker2.type=ajp13
worker.worker2.host=www2.x.com
worker.worker2.port=8009
worker.worker2.lbfactor=3
</pre></table></code></div></div><h3 id="lb-worker-살펴보기">lb Worker 살펴보기</h3><blockquote><p>로드 밸런싱 worker는 실제로 Tomcat worker와 통신하지 않고, 웹 서버 플러그인 worker 관리를 담당한다.</p></blockquote><ul><li>관리하는 부분은 다음과 같다.<ul><li>웹 서버 플러그인 worker를 인스턴스화<li>관리되는 worker의 로드 밸런싱 factor(lbfactor)를 사용하여 가중치 라운드 로빈(weighted round-robin) 로드 밸런싱을 수행<ul><li>가중치 라운드 로빈에서는 lbfactor가 높을수록 더 강력한 시스템(더 많은 요청을 처리함)을 의미</ul><li>동일한 Tomcat worker에서 실행되는 동일한 세션에 속하는 요청 유지(세션 고정)<li>실패한 Tomcat worker를 식별하여 요청을 일시 중지하고, lb worker가 관리하는 다른 worker로 fail-over</ul><li><p>결과적으로, lb worker가 관리하는 worker들은 로드 밸런싱되고(lbfactor 및 현재 사용자 세션을 기반으로) 장애 조치가 이루어지므로 단일 Tomcat 프로세스 종료로 인해 전체 사이트가 마비되지 않는다.</p><li>다음은 lb worker가 가질 수 있는 속성이다.<ul><li><code class="language-plaintext highlighter-rouge">balance_workers</code><ul><li>로드 밸런서가 관리해야 하는 worker 목록이다.<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre># The worker balance1 while use "real" workers worker1 and worker2
worker.balance1.balance_workers=worker1, worker2
</pre></table></code></div></div></ul><li><code class="language-plaintext highlighter-rouge">sticky_session</code><ul><li>SESSION ID가 있는 요청을 동일한 Tomcat worker로 다시 라우팅해야 하는지 여부를 지정한다.<li>Tomcat이 여러 Tomcat 인스턴스에서 세션 데이터를 유지할 수 있는 세션 관리자를 사용하는 경우 sticky_session을 <code class="language-plaintext highlighter-rouge">false</code>로 설정한다.<li>기본적으로 <code class="language-plaintext highlighter-rouge">true</code>로 설정된다.</ul></ul></ul><h1 id="정리">정리</h1><ul><li>아파치와 톰캣이 연동되려면 <code class="language-plaintext highlighter-rouge">mod_jk</code> 모듈이 필요하다. (운영체제 별로 이름은 다를 수 있다.)<ul><li>해당 모듈은 <code class="language-plaintext highlighter-rouge">Apache JServ Protocol(AJP)</code> 프로토콜을 사용하여 아파치와 톰캣간 통신한다.</ul><li><code class="language-plaintext highlighter-rouge">mod_jk</code> 모듈을 사용하려면 ?<ul><li>먼저 아파치 모듈 디렉토리(예:<code class="language-plaintext highlighter-rouge">/usr/lib/apache</code>)에 설치되어야 있어야한다.<li>아파치 <code class="language-plaintext highlighter-rouge">httpd.conf</code>에 모듈이 로드되어야하고, <code class="language-plaintext highlighter-rouge">JKMount</code> 등 관련 옵션들이 정의되어야 한다.<li><code class="language-plaintext highlighter-rouge">workers.properties</code> 파일이 작성되어야한다.<ul><li><code class="language-plaintext highlighter-rouge">workers.properties</code>는 서블릿 컨텐츠 요청 전달, 로드 밸런싱 등을 위한 Tomcat worker와 요청을 전달받을 톰캣 프로세스의 호스트 및 포트 등을 정의한 파일이다.</ul></ul></ul><h1 id="참고-자료">참고 자료</h1><hr /><ul><li><a href="https://tomcat.apache.org/connectors-doc/">https://tomcat.apache.org/connectors-doc/</a><li><a href="https://tomcat.apache.org/connectors-doc/webserver_howto/apache.html">https://tomcat.apache.org/connectors-doc/webserver_howto/apache.html</a><li><a href="https://tomcat.apache.org/connectors-doc/common_howto/workers.html">https://tomcat.apache.org/connectors-doc/common_howto/workers.html</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%A7%80%EC%8B%9D-%EB%8D%94%ED%95%98%EA%B8%B0/'>지식 더하기</a>, <a href='/categories/%EC%9D%B4%EB%A1%A0/'>이론</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%EC%9D%B8%ED%94%84%EB%9D%BC/" class="post-tag no-text-decoration" >인프라</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Infra - Tomcat & Apache HTTP Server 연동 - zz9z9&url=https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Infra - Tomcat & Apache HTTP Server 연동 - zz9z9&u=https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Infra - Tomcat & Apache HTTP Server 연동 - zz9z9&url=https://zz9z9.github.io/posts/tomcat-and-apache-connection-part1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-entity-manager-persistence-context/">EntityManager와 영속성 컨텍스트</a><li><a href="/posts/jpa-id-generation-strategy/">JPA/Hibernate ID 생성 전략</a><li><a href="/posts/aws-vpc/">AWS VPC(Virtual Private Cloud) - 기초 개념</a><li><a href="/posts/aws-efs/">AWS EFS(Elastic File System) - 기초 개념</a><li><a href="/posts/aws-intro/">AWS - 상품 살펴보기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/apache-httpd-conf-part1/"><div class="card-body"> <span class="timeago small" > Jan 15, 2022 <i class="unloaded">2022-01-15T13:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Infra - Apache httpd.conf 파일 속성 공부하기(1)</h3><div class="text-muted small"><p> 들어가기 전 회사에서 서버 이관을 준비하고 있다. 기존에 각각의 서버에 흩어져 있던 애플리케이션을 한 서버로 모으는 등의 작업을 해야하는데, 그럴려면 기존에 세팅된 아파치 설정 파일을 제대로 이해하고 더 나아가 수정하는 등의 작업이 필요할 것 같다. 따라서, httpd.conf 파일에 있는 속성들이 어떤 것을 의미하는지, 왜 필요한지 정리해보려고 ...</p></div></div></a></div><div class="card"> <a href="/posts/transaction-and-isolation-level/"><div class="card-body"> <span class="timeago small" > Aug 24, 2021 <i class="unloaded">2021-08-24T23:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MySQL - 트랜잭션과 격리 수준</h3><div class="text-muted small"><p> 트랜잭션과 ACID 트랜잭션이란 ? 데이터베이스 상태를 변경시키는 일련의 연산들을 논리적으로 묶을 수 있는 하나의 작업 단위 ex) 주문 - 결제 - 결제 승인 - 주문 접수 트랜잭션에는 중요한 두 가지 목적이 있다. ...</p></div></div></a></div><div class="card"> <a href="/posts/data-modeling/"><div class="card-body"> <span class="timeago small" > Aug 25, 2021 <i class="unloaded">2021-08-25T23:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MySQL - 데이터 모델링</h3><div class="text-muted small"><p> 들어가기 전 애플리케이션을 설계할 때 ‘DB 테이블은 어떻게 구성해야하지?’ 에 대한 막막함이 있다면 데이터 모델링이 문제 해결의 출발점이라고 생각한다. 공부를 하기에 앞서 나의 언어로 정리해본다면 내가 생각하기에 모델링이라는 것은 먼저 문자 그대로 ‘모델화’ 시킨다는 것인데, 모델이란 ‘어떤 대상을 필요한 특징만 추려서 나타낸 것’ 이라는 생...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/apache-httpd-conf-part1/" class="btn btn-outline-primary" prompt="Older"><p>Infra - Apache httpd.conf 파일 속성 공부하기(1)</p></a> <a href="/posts/apache-2.2-to-2.4-issue/" class="btn btn-outline-primary" prompt="Newer"><p>Apache Http Server 2.2.x -> 2.4.x 버전 업그레이드 하면서 겪었던 이슈</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/username">Lee JaeYoon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zz9z9.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
