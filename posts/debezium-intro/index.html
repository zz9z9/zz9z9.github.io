<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Debezium 알아보기" /><meta property="og:locale" content="en_US" /><meta name="description" content="Debezium" /><meta property="og:description" content="Debezium" /><link rel="canonical" href="https://zz9z9.github.io/posts/debezium-intro/" /><meta property="og:url" content="https://zz9z9.github.io/posts/debezium-intro/" /><meta property="og:site_name" content="zz9z9" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-10-29T22:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Debezium 알아보기" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-29T22:00:00+09:00","datePublished":"2025-10-29T22:00:00+09:00","description":"Debezium","headline":"Debezium 알아보기","mainEntityOfPage":{"@type":"WebPage","@id":"https://zz9z9.github.io/posts/debezium-intro/"},"url":"https://zz9z9.github.io/posts/debezium-intro/"}</script><title>Debezium 알아보기 | zz9z9</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zz9z9"><meta name="application-name" content="zz9z9"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-Q7PWLG5WYT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Q7PWLG5WYT'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Soccerball.svg/1000px-Soccerball.svg.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zz9z9</a></div><div class="site-subtitle font-italic">거창한 계획보다는, 꾸준한 실행을</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zz9z9" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Debezium 알아보기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Debezium 알아보기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Lee JaeYoon </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Oct 29, 2025, 10:00 PM +0900" prep="on" > Oct 29 <i class="unloaded">2025-10-29T22:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4784 words">26 min</span></div></div><div class="post-content"><h2 id="debezium">Debezium</h2><hr /><blockquote><p>Debezium은 CDC(Change Data Capture)를 위한 오픈 소스 분산 플랫폼이다. (<a href="https://debezium.io/">공식 사이트</a>) <br /> Kafka Connect의 Source Connector 플러그인 중 하나 (내가 지금까지 이해한 정도)</p></blockquote><ul><li>Debezium은 <strong>Kafka Connect와 호환되는 소스 커넥터(Source Connector)</strong>들을 제공한다.<li>각 커넥터는 특정 DBMS와 연동되며, DBMS에서 발생하는 데이터 변경 사항을 실시간으로 감지하여 그 기록을 Kafka 토픽으로 스트리밍한다.<li>그 후, 애플리케이션은 Kafka 토픽에 저장된 이벤트 레코드들을 읽어서 해당 변경 내역을 처리할 수 있습니다.<li>Kafka를 활용함으로써, Debezium은 애플리케이션이 데이터베이스에서 발생한 변경 사항을 정확하고 완전하게 소비할 수 있도록 한다.<ul><li>애플리케이션이 갑작스럽게 중단되거나 연결이 끊기더라도, 그 기간 동안 발생한 이벤트를 놓치지 않는다.<li>애플리케이션이 다시 시작되면, 중단되었던 지점(topic의 offset 위치)부터 이어서 이벤트를 읽기 시작힌다.</ul></ul><h2 id="아키텍처">아키텍처</h2><hr /><ul><li>Debezium은 일반적으로 Kafka Connect를 통해 배포된다.<li>Kafka Connect는 다음과 같은 작업을 구현하고 운영하기 위한 프레임워크이자 실행 환경이다:<ul><li>Debezium처럼 Kafka로 레코드를 전송하는 소스 커넥터(Source Connector)<li>Kafka 토픽의 레코드를 다른 시스템으로 전달하는 싱크 커넥터(Sink Connector)</ul></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/zz9z9/zz9z9.github.io@master/assets/img/debezium-intro-img1.png" alt="img" /> (출처 : <a href="https://debezium.io/documentation//reference/stable/architecture.html">https://debezium.io/documentation//reference/stable/architecture.html</a>)</p><p><strong>※ Debezium을 배포한다 ?</strong></p><blockquote><p>어떤 방식으로 CDC를 수행할지 정한 뒤, 그에 맞게 Debezium을 구성하고 실행 환경에 올리는 것을 의미한다. (<a href="https://debezium.io/documentation/reference/stable/tutorial.html#deploying-mysql-connector">참고</a>)</p></blockquote><ul><li>예시:</ul><div class="table-wrapper"><table><thead><tr><th>배포 방식<th>실제로 하는 일<th>설명<tbody><tr><td><strong>Kafka Connect 기반 배포</strong><td>Debezium 커넥터를 Kafka Connect 클러스터에 등록하고 실행<td>소스 커넥터로 DB의 변경사항을 읽어 Kafka에 넣음<tr><td><strong>Debezium Server 배포</strong><td>Debezium Server 애플리케이션을 실행하고 환경 설정 지정<br />(예: DB 연결 정보, 메시징 대상)<td>Kafka 없이 Kinesis, Pub/Sub 등으로 CDC 스트리밍<tr><td><strong>Debezium Engine 내장형 배포</strong><td>Java 애플리케이션에 Debezium 라이브러리를 포함시켜 <br /> 코드 레벨에서 실행<td>앱 내부에서 CDC 수행 (Kafka Connect 불필요)</table></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre># Kafka Connect 기반 Debezium 배포 예시
docker run -it --rm \
  -e GROUP_ID=1 \
  -e CONFIG_STORAGE_TOPIC=my_connect_configs \
  -e OFFSET_STORAGE_TOPIC=my_connect_offsets \
  -p 8083:8083 \
  debezium/connect:latest
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre># Debezium Server 실행 예시
java -jar debezium-server.jar --config application.properties
</pre></table></code></div></div><h2 id="mysql-커넥터-등록하기">MySQL 커넥터 등록하기</h2><hr /><blockquote><p><code class="language-plaintext highlighter-rouge">/connector</code> API를 호출해서 등록 (<a href="https://kafka.apache.org/documentation/#connect_rest">Kafka Connect REST API</a>) <br /> (참고 : Debezium, Kafka Connect, MySQL 버전 호환성 : <a href="https://debezium.io/releases/">https://debezium.io/releases/</a>)</p></blockquote><ul><li>등록된 커넥터는 MySQL 서버의 <code class="language-plaintext highlighter-rouge">binlog</code>를 감시하기 시작한다.<ul><li><code class="language-plaintext highlighter-rouge">binlog</code>에는 데이터베이스에서 발생한 모든 트랜잭션 기록(개별 행의 변경이나 스키마의 변경 등)이 저장된다.</ul><li>커넥터는 이러한 변경을 감지하여 <strong>change event(변경 이벤트)</strong>를 생성한다.<li>앞으로의 예시에서는, Kafka가 자동으로 토픽을 생성하도록 설정되어 있으며, 각 토픽은 복제본(replica)이 1개뿐인 단순한 구성을 사용한다고 가정한다.<li>운영 환경에서는 보통 두 가지 방법 중 하나를 사용한다:<ul><li>Kafka 도구(Kafka CLI 등)를 이용해 필요한 토픽을 수동으로 생성하고, 복제(replica) 개수 같은 세부 설정을 직접 지정<li>Kafka Connect 설정을 통해, 자동으로 생성되는 토픽의 설정을 커스터마이징</ul><li>예시:</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>$ curl -i -X POST -H "Accept:application/json" -H "Content-Type:application/json" localhost:8083/connectors -d
'{
  "name": "inventory-connector",
  "config": {
    "connector.class": "io.debezium.connector.mysql.MySqlConnector",
    "tasks.max": "1",
    "database.hostname": "mysql",
    "database.port": "3306",
    "database.user": "debezium",
    "database.password": "dbz",
    "database.server.id": "184054",
    "topic.prefix": "dbserver1",
    "database.include.list": "inventory",
    "schema.history.internal.kafka.bootstrap.servers": "kafka:9092",
    "schema.history.internal.kafka.topic": "schema-changes.inventory"
  }
}'
</pre></table></code></div></div><p><strong><em>(Request Body에 담긴) 커넥터 관련 속성값들을 살펴보자.</em></strong></p><p><strong>name</strong></p><blockquote><p>커넥터의 이름</p></blockquote><ul><li>커넥터 인스턴스를 구분하기 위한 고유한 이름을 지정</ul><p><strong>config</strong></p><blockquote><p>커넥터가 어떻게 동작할지를 정의하는 세부 설정 항목들<br />(참고 : <a href="https://debezium.io/documentation//reference/stable/connectors/mysql.html#mysql-connector-properties">MySQL connector configuration properties</a>)</p></blockquote><p><strong>tasks.max</strong></p><blockquote><p>커넥터가 생성할 수 있는 최대 태스크(task)의 개수</p></blockquote><ul><li>Kafka Connect 서비스는 커넥터를 통해 하나 이상의 태스크를 실행할 수 있으며, 실행 중인 태스크들을 Kafka Connect 클러스터 내의 여러 노드에 자동으로 분산 배치한다.<li>만약 어떤 서비스가 중지되거나 충돌하더라도, 해당 태스크는 자동으로 다른 실행 중인 서비스로 재할당된다.<li>다만, <strong>MySQL 커넥터는 항상 단일 태스크만 사용</strong>하기 때문에 이 기본값을 변경해도 아무런 효과가 없다.</ul><p><strong>※ 단일 태스크 사용 이유</strong></p><ul><li>Debezium MySQL Connector는 MySQL에 <strong>replication 클라이언트(slave)</strong>로 연결해서 <strong>binlog dump 프로토콜(replication 프로토콜의 일부)</strong>을 통해 변경 이벤트를 받는다.<li>이 스트림은 하나의 연속된 이벤트 스트림이므로, 여러 태스크가 나눠서 병렬로 읽을 수 있는 구조가 아니다.<li>만약 여러 태스크가 <code class="language-plaintext highlighter-rouge">binlog</code>를 병렬로 읽는다면, 동일한 트랜잭션 이벤트가 서로 다른 태스크로 분산되어 순서가 깨질 수 있다.</ul><p><strong>database.hostname</strong></p><blockquote><p>데이터베이스 호스트명</p></blockquote><ul><li>Docker를 사용하는 경우, MySQL 서버를 실행하는 Docker 컨테이너 이름이다.<li>만약 MySQL이 일반적인 네트워크 환경(즉, Docker가 아닌)에서 실행 중이라면, MySQL 서버의 IP 주소나 DNS로 해석 가능한 호스트 이름을 지정해야 한다.</ul><p><strong>database.server.id</strong></p><blockquote><p>Debezium 커넥터(MySQL 클라이언트)의 고유 숫자 ID</p></blockquote><ul><li>지정된 ID는 현재 MySQL 클러스터 내에서 실행 중인 모든 데이터베이스 프로세스와 중복되지 않아야한다.<li>앞서 살펴본바와 같이, Debezium MySQL 커넥터는 MySQL의 <strong>replication</strong> 기능을 이용해서 <code class="language-plaintext highlighter-rouge">binlog</code>를 읽는다.<ul><li>즉, Debezium은 MySQL 입장에서 보면 하나의 복제 서버처럼 동작한다.<li>MySQL 복제 환경에서는 각 서버(마스터, 슬레이브 등)가 서로를 구분하기 위해 <code class="language-plaintext highlighter-rouge">server_id</code>를 사용한다.<li>따라서 Debezium 커넥터도 <code class="language-plaintext highlighter-rouge">database.server.id</code> 값을 통해 <strong>자신을 MySQL 클러스터 내에서 고유하게 식별</strong>해야 한다.</ul><li>이 값이 중복되면 MySQL이 “같은 ID의 클라이언트가 이미 연결되어 있다”며 복제를 거부한다.</ul><p><strong>topic.prefix</strong></p><blockquote><p>데이터베이스 서버 또는 클러스터를 구분하기 위한 네임스페이스(namespace)를 지정하는 문자열</p></blockquote><ul><li>이 값은 <strong>Kafka 토픽 이름의 접두사로 사용</strong>되며, 커넥터가 생성하는 모든 이벤트 토픽 이름이 이 값을 기반으로 만들어진다.<li>따라서 각 커넥터마다 이 값은 고유해야 한다.<li>영문자, 숫자, 하이픈(<code class="language-plaintext highlighter-rouge">-</code>), 점(<code class="language-plaintext highlighter-rouge">.</code>), 밑줄(<code class="language-plaintext highlighter-rouge">_</code>)만 사용할 수 있다.<li>예를 들어, <code class="language-plaintext highlighter-rouge">topic.prefix</code>가 <code class="language-plaintext highlighter-rouge">dbserver1</code>이라면<ul><li><code class="language-plaintext highlighter-rouge">dbserver1.inventory.customers</code>, <code class="language-plaintext highlighter-rouge">dbserver1.inventory.orders</code>과 같이 토픽이 생성된다.</ul></ul><p><strong>database.include.list</strong></p><blockquote><p>커넥터가 변경 사항을 캡처할 데이터베이스 이름을 지정 (필수 옵션은 아님)</p></blockquote><ul><li>쉼표(<code class="language-plaintext highlighter-rouge">,</code>)로 구분된 정규식 목록으로 작성한다.<li>커넥터는 이 리스트에 <strong>명시된 이름과 일치하는 데이터베이스의 변경만 캡처</strong>하며, 여기에 포함되지 않은 데이터베이스의 변경 사항은 캡처하지 않는다.<li>기본적으로(즉, 이 값을 지정하지 않은 경우), 커넥터는 모든 데이터베이스의 변경 사항을 캡처한다.</ul><p><strong>schema.history.internal.kafka.bootstrap.servers</strong></p><blockquote><p>커넥터가 Kafka 클러스터에 초기 연결을 맺을 때 사용할 호스트/포트 쌍 목록</p></blockquote><ul><li>이 연결은 두 가지 목적으로 사용된다:<ul><li>커넥터가 이전에 Kafka에 저장한 <strong>데이터베이스 스키마 이력</strong>을 가져올 때<li>소스 데이터베이스에서 읽어들인 <strong>DDL문을 Kafka에 기록</strong>할 때</ul><li>따라서 이 설정은 데이터 변경 이벤트용 Kafka 연결과는 별개로, <strong>스키마 이력 관리용</strong> Kafka 연결을 정의하는 것이다.</ul><p><strong>schema.history.internal.kafka.topic</strong></p><blockquote><p>커넥터가 데이터베이스 <strong>스키마 변경 이력</strong>을 저장하는 Kafka 토픽의 전체 이름을 지정</p></blockquote><ul><li>Debezium은 단순히 데이터의 변경만 캡처하지 않고, 테이블 구조도 함께 추적한다.<li>예를 들어, <code class="language-plaintext highlighter-rouge">ALTER TABLE customers ADD COLUMN phone VARCHAR(20);</code><ul><li>이때 Debezium은 단순히 customers 테이블의 데이터만 바뀌었다고 알리는 게 아니라, “이 시점에 테이블 구조가 이렇게 바뀌었음” 이라는 스키마 변경 이력을 별도의 토픽에 기록해 둔다.</ul><li>이렇게 해야 Debezium이 재시작되거나 장애 복구 후에도 정확한 스키마 정보로 <code class="language-plaintext highlighter-rouge">binlog</code>를 다시 해석할 수 있습니다.</ul><div class="table-wrapper"><table><thead><tr><th>역할<th>설명<tbody><tr><td><strong>DDL 기록</strong><td>테이블 생성, 삭제, 컬럼 추가/변경 등의 DDL 문을 저장<tr><td><strong>스키마 복원</strong><td>커넥터가 재시작되면, 이 토픽에서 과거 스키마를 불러와 재구성<tr><td><strong>이벤트 해석 기준</strong><td>binlog의 각 이벤트를 당시의 테이블 구조에 맞게 해석하기 위함<tr><td><strong>내부 관리용</strong><td>이 토픽은 보통 <strong>내부 관리용이므로 외부 애플리케이션이 구독하지 않음</strong></table></div><ul><li>Debezium은 내부적으로 이런 흐름을 가진다:</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>MySQL binlog
↓
Debezium Connector
├─ DDL 감지 (스키마 변경)
├─ DML 감지 (데이터 변경)
↓
Kafka
├─ schema-changes.inventory  ← 스키마 이력 저장
└─ dbserver1.inventory.customers ← 데이터 변경 이벤트 저장
</pre></table></code></div></div><h2 id="변경-이벤트-살펴보기">변경 이벤트 살펴보기</h2><hr /><blockquote><p><code class="language-plaintext highlighter-rouge">dbserver1.inventory.customers</code> 토픽 가정</p></blockquote><ul><li>각 이벤트는 두 개의 JSON 데이터로 구성된다:<ul><li><code class="language-plaintext highlighter-rouge">Key</code> : 해당 행의 기본 키 정보<li><code class="language-plaintext highlighter-rouge">Value</code> : 실제 데이터 변경 내용</ul><li>JSON 데이터는 두 부분으로 구성된다:<ul><li><code class="language-plaintext highlighter-rouge">schema</code> : <code class="language-plaintext highlighter-rouge">payload</code>의 구조를 설명하는 Kafka Connect 스키마 정의<li><code class="language-plaintext highlighter-rouge">payload</code> : 실제 데이터 값</ul></ul><h3 id="create-event">Create Event</h3><ul><li>Key</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int32"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1.inventory.customers.Key"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1004</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><ul><li>Value</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int32"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first_name"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last_name"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1.inventory.customers.Value"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"before"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int32"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first_name"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last_name"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1.inventory.customers.Value"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"after"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"version"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"server_id"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts_sec"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gtid"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int32"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"row"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thread"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"table"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"io.debezium.connector.mysql.Source"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"source"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"op"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts_ms"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts_us"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts_ns"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"optional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1.inventory.customers.Envelope"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"before"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"after"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1004</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anne"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kretchmar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annek@noanswer.org"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.1.Final"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"server_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts_sec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gtid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysql-bin.000003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="mi">154</span><span class="p">,</span><span class="w">
      </span><span class="nl">"row"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"thread"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"db"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inventory"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"r"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486500577691</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_us"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486500577691547</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ns"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486500577691547930</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><ul><li>이 스키마는 <code class="language-plaintext highlighter-rouge">dbserver1.inventory.customers.Envelope (version 1)</code>라는 이름의 Kafka Connect 스키마를 포함하며, 다섯 가지 필드를 가진다:<ul><li><code class="language-plaintext highlighter-rouge">op</code> : 이벤트가 어떤 작업(operation) 인지를 나타내는 문자열 값 (필수 필드)<ul><li>c - create (INSERT)<li>u - update<li>d - delete<li>r - read (스냅샷 시 기존 데이터 읽을 때)</ul><li><code class="language-plaintext highlighter-rouge">before</code> : 선택적(optional) 필드이며, 존재할 경우, 이벤트 발생 이전의 행(row) 상태를 포함<li><code class="language-plaintext highlighter-rouge">after</code> : 선택적 필드이며, 존재할 경우, 이벤트 발생 이후의 행(row) 상태를 포함<li><code class="language-plaintext highlighter-rouge">source</code> : 필수 필드이며, 이벤트의 출처(source) 메타데이터를 담고 있는 구조체<ul><li>MySQL 커넥터의 경우, source 안에는 다음 정보들이 포함된다:<ul><li>커넥터 이름 (dbserver1 등)<li>이벤트가 기록된 binlog 파일 이름<li>해당 이벤트가 binlog 내에서 나타난 위치(position)<li>(한 binlog 이벤트에 여러 행이 있는 경우) 행의 인덱스<li>영향을 받은 데이터베이스 이름 및 테이블 이름<li>변경을 수행한 MySQL 스레드 ID<li>이 이벤트가 스냅샷 중 발생한 것인지 여부<li>(가능한 경우) MySQL 서버 ID<li>이벤트가 기록된 타임스탬프 (초 단위)</ul></ul><li><code class="language-plaintext highlighter-rouge">ts_ms</code> : 선택적 필드이며, 존재할 경우 이 값은 커넥터가 이벤트를 처리한 시각(밀리초 단위)을 포함. 이 시간은 Kafka Connect 작업이 실행 중인 JVM의 시스템 시계 기준</ul></ul><p><strong>※ Avro 고려하기</strong></p><blockquote><p>Avro는 데이터를 컴퓨터가 이해하고 저장/전송하기 쉬운 <strong>이진 형식으로 변환하는 ‘데이터 직렬화 시스템’</strong>이다. <br /> JSON과 달리 <strong>스키마 진화(Schema Evolution)</strong>를 지원하여 데이터 구조 변경을 유연하게 처리할 수 있어 빅데이터 시스템에서 효율적으로 사용된다.</p></blockquote><ul><li>Kafka Connect의 JSON 변환기는 <strong>모든 메시지마다 key와 value의 스키마 정의를 함께 포함</strong>하기 때문에, 이벤트 메시지가 매우 장황해진다.<li>이런 문제를 해결하기 위해 Apache Avro 포맷을 사용할 수도 있다.<li>즉, Kafka Connect 스키마를 Avro 스키마로 변환하고,<ul><li>이 스키마는 별도의 Schema Registry 서비스에 저장되며,<li>실제 메시지에는 스키마 전체가 아니라 고유한 스키마 ID 와 Avro 인코딩된 바이너리 데이터만 포함된다.<li>이 방식 덕분에, 네트워크로 전송되거나 Kafka에 저장되는 메시지 크기가 JSON 포맷에 비해 훨씬 작아진다.</ul><li>또한 Avro Converter는 스키마 진화(schema evolution) 기능을 지원하므로, Schema Registry에 각 스키마 버전의 변경 이력을 관리할 수도 있다.</ul><h3 id="update-event">Update Event</h3><blockquote><p>UPDATE customers SET first_name=’Anne Marie’ WHERE id=1004;</p></blockquote><ul><li>Key : 전과 동일<li>Value</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"before"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1004</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anne"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kretchmar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annek@noanswer.org"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"after"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1004</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anne Marie"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kretchmar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annek@noanswer.org"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.1.Final"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"server_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">223344</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts_sec"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501486</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gtid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysql-bin.000003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="mi">364</span><span class="p">,</span><span class="w">
      </span><span class="nl">"row"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"thread"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"db"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inventory"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"u"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501486308</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_us"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501486308910</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ns"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501486308910814</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><strong>Primary Key Update</strong></p><ul><li>기본 키 필드가 변경되는 경우에는 일반적인 UPDATE 이벤트 대신, 커넥터가 다음과 같은 두 개의 이벤트를 생성한다:<ul><li>기존 키에 대한 <code class="language-plaintext highlighter-rouge">DELETE</code> 이벤트 레코드<li>새(변경된) 키에 대한 <code class="language-plaintext highlighter-rouge">CREATE</code> 이벤트 레코드</ul><li>두 이벤트는 일반적인 이벤트 구조와 내용을 가지지만, 기본 키 변경과 관련된 <strong>특수한 메시지 헤더</strong>가 추가로 포함된다.<li><code class="language-plaintext highlighter-rouge">DELETE</code> 이벤트 레코드에는 <code class="language-plaintext highlighter-rouge">__debezium.newkey</code>라는 메시지 헤더가 포함된다.<ul><li>이 헤더의 값은 변경된 행의 새로운 primary key값<li>즉, <code class="language-plaintext highlighter-rouge">"이 행이 삭제되었지만, 사실은 새 키로 다시 생성될 것이다"</code>라는 의미를 담고 있다.</ul><li><code class="language-plaintext highlighter-rouge">CREATE</code> 이벤트 레코드에는 <code class="language-plaintext highlighter-rouge">__debezium.oldkey</code>라는 메시지 헤더가 포함된다.<ul><li>이 헤더의 값은 업데이트 이전의(예전) 기본 키 값<li>즉, <code class="language-plaintext highlighter-rouge">"이 새 행은 이전에 이 키를 가진 행으로부터 온 것이다"</code>라는 정보를 담고 있다.</ul></ul><h3 id="delete-event">Delete Event</h3><blockquote><p>DELETE FROM customers WHERE id=1004;</p></blockquote><ul><li>테이블에서 한 행(row)을 삭제하면, Debezium MySQL 커넥터는 <strong>두 개의 이벤트</strong>를 Kafka로 보낸다.</ul><p><strong>첫번째 이벤트</strong></p><ul><li>Key 영역 : 전과 동일<li>Value 영역</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"before"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1004</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anne Marie"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kretchmar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annek@noanswer.org"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"after"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.1.Final"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dbserver1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"server_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">223344</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts_sec"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501558</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gtid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysql-bin.000003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="mi">725</span><span class="p">,</span><span class="w">
      </span><span class="nl">"row"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"thread"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"db"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inventory"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501558315</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_us"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501558315901</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts_ns"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486501558315901687</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre></table></code></div></div><p><strong>두번째 이벤트</strong></p><blockquote><p>tombstone event : key는 동일하지만, value가 완전히 null인 이벤트</p></blockquote><ul><li>Key : 전과 동일<li>Value</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><ul><li>Kafka는 <a href="https://kafka.apache.org/documentation/#compaction">log compaction</a>이라는 기능을 가지고 있다.<ul><li>이는 토픽 내 메시지를 key 기준으로 압축하는 기능이다.<li>각 key에 대해 가장 최신 메시지만 남기고, 이전 메시지들은 삭제할 수 있다.</ul><li><code class="language-plaintext highlighter-rouge">삭제(delete)</code>라는 개념을 표현하기 위해, Kafka는 key는 있고 value는 <code class="language-plaintext highlighter-rouge">null</code>인 tombstone event를 사용한다.<li>Kafka는 이를 보고 “이 key에 대한 데이터는 삭제된 상태다”라고 인식하고, 해당 key의 이전 모든 메시지를 지운다.<li>즉시 삭제를 수행하지는 않고, Kafka의 log cleaner 스레드가 주기적으로 compaction을 수행할 때 처리된다.<ul><li>즉, compaction이 실행되기 전까지는 tombstone과 이전 메시지 모두 로그에 남아 있을 수 있다.</ul></ul><h2 id="참고-자료">참고 자료</h2><hr /><ul><li><a href="https://debezium.io/documentation//reference/stable/architecture.html">https://debezium.io/documentation//reference/stable/architecture.html</a><li><a href="https://debezium.io/documentation//reference/stable/tutorial.html">https://debezium.io/documentation//reference/stable/tutorial.html</a><li><a href="https://debezium.io/documentation//reference/stable/connectors/mysql.html">https://debezium.io/documentation//reference/stable/connectors/mysql.html</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%A7%80%EC%8B%9D-%EB%8D%94%ED%95%98%EA%B8%B0/'>지식 더하기</a>, <a href='/categories/%EC%9D%B4%EB%A1%A0/'>이론</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/infra/" class="post-tag no-text-decoration" >Infra</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Debezium 알아보기 - zz9z9&url=https://zz9z9.github.io/posts/debezium-intro/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Debezium 알아보기 - zz9z9&u=https://zz9z9.github.io/posts/debezium-intro/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Debezium 알아보기 - zz9z9&url=https://zz9z9.github.io/posts/debezium-intro/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/daily-note-251016/">오늘 드는 생각 (251016, 은탄환)</a><li><a href="/posts/daily-note-251015/">오늘 드는 생각 (251015, 일과 공부)</a><li><a href="/posts/thinking-about-maintenance/">유지보수하기 어렵다 ?</a><li><a href="/posts/mysql-nested-loop-join/">MySQL - Nested-Loop Join 알아보기</a><li><a href="/posts/mysql-hash-join/">MySQL - Hash Join 알아보기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a> <a class="post-tag" href="/tags/oop/">OOP</a> <a class="post-tag" href="/tags/mybatis/">MyBatis</a> <a class="post-tag" href="/tags/os/">OS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tomcat-server-xml-file/"><div class="card-body"> <span class="timeago small" > Apr 7, 2022 <i class="unloaded">2022-04-07T22:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Infra - 톰캣 구조 살펴보기</h3><div class="text-muted small"><p> 톰캣 구조 출처 : https://howtodoinjava.com/tomcat/tomcats-architecture-and-server-xml-configuration-tutorial/ 이러한 구조는 일반적으로 Tomcat 설치 폴더의 /conf 하위 디렉토리에 있는 server.xml 파일에 정의된다. server.xml ...</p></div></div></a></div><div class="card"> <a href="/posts/cdc-intro/"><div class="card-body"> <span class="timeago small" > Oct 26 <i class="unloaded">2025-10-26T00:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CDC(Change Data Capture) 알아보기</h3><div class="text-muted small"><p> CDC(Change Capture Data)란 ? 데이터베이스나 데이터 웨어하우스 같은 데이터 소스의 모든 변경 사항을 추적하여, 이러한 변경 내용을 대상 시스템에 반영할 수 있도록 하는 과정 (출처 : https://www.confluent.io/learn/change-data-capture/#quick-intro-to-cdc) 주요...</p></div></div></a></div><div class="card"> <a href="/posts/kafka-connect-intro/"><div class="card-body"> <span class="timeago small" > Oct 27 <i class="unloaded">2025-10-27T22:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Kafka Connect 알아보기</h3><div class="text-muted small"><p> Kafka Connect Apache Kafka와 다른 데이터 시스템 간에, 데이터를 확장 가능하고 안정적으로 스트리밍하기 위한 도구 대규모 데이터를 Kafka로 가져오거나 Kafka에서 내보내는 커넥터를 빠르고 간단하게 정의할 수 있게 해준다. 전체 데이터베이스를 가져오거나, 애플리케이션 서버 전반에서 수집한 메트릭(metric...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/kafka-connect-intro/" class="btn btn-outline-primary" prompt="Older"><p>Kafka Connect 알아보기</p></a> <a href="/posts/debezium-mysql-connector-snapshot/" class="btn btn-outline-primary" prompt="Newer"><p>Debezium MySQL Connector Snapshot 알아보기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Lee JaeYoon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a> <a class="post-tag" href="/tags/oop/">OOP</a> <a class="post-tag" href="/tags/mybatis/">MyBatis</a> <a class="post-tag" href="/tags/os/">OS</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zz9z9.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
