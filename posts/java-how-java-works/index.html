<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Java - 자바 애플리케이션이 실행되는 과정 살펴보기" /><meta property="og:locale" content="en_US" /><meta name="description" content="들어가기 전 자바 애플리케이션이 실행되는 과정을 간단히 도식화 하면 아래처럼 표현할 수 있을 것이다. 이를 컴파일과 실행이라는 두 단계로 나눠서, 각 단계별로 어떤 과정이 일어나는지 살펴보자." /><meta property="og:description" content="들어가기 전 자바 애플리케이션이 실행되는 과정을 간단히 도식화 하면 아래처럼 표현할 수 있을 것이다. 이를 컴파일과 실행이라는 두 단계로 나눠서, 각 단계별로 어떤 과정이 일어나는지 살펴보자." /><link rel="canonical" href="https://zz9z9.github.io/posts/java-how-java-works/" /><meta property="og:url" content="https://zz9z9.github.io/posts/java-how-java-works/" /><meta property="og:site_name" content="zz9z9" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-27T00:29:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Java - 자바 애플리케이션이 실행되는 과정 살펴보기" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-09-27T00:29:00+09:00","datePublished":"2021-09-27T00:29:00+09:00","description":"들어가기 전 자바 애플리케이션이 실행되는 과정을 간단히 도식화 하면 아래처럼 표현할 수 있을 것이다. 이를 컴파일과 실행이라는 두 단계로 나눠서, 각 단계별로 어떤 과정이 일어나는지 살펴보자.","headline":"Java - 자바 애플리케이션이 실행되는 과정 살펴보기","mainEntityOfPage":{"@type":"WebPage","@id":"https://zz9z9.github.io/posts/java-how-java-works/"},"url":"https://zz9z9.github.io/posts/java-how-java-works/"}</script><title>Java - 자바 애플리케이션이 실행되는 과정 살펴보기 | zz9z9</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zz9z9"><meta name="application-name" content="zz9z9"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-Q7PWLG5WYT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Q7PWLG5WYT'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Soccerball.svg/1000px-Soccerball.svg.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zz9z9</a></div><div class="site-subtitle font-italic">거창한 계획보다는, 꾸준한 실행을</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zz9z9" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Java - 자바 애플리케이션이 실행되는 과정 살펴보기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Java - 자바 애플리케이션이 실행되는 과정 살펴보기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Lee JaeYoon </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Sep 27, 2021, 12:29 AM +0900" prep="on" > Sep 27, 2021 <i class="unloaded">2021-09-27T00:29:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3065 words">17 min</span></div></div><div class="post-content"><h1 id="들어가기-전">들어가기 전</h1><hr /><p>자바 애플리케이션이 실행되는 과정을 간단히 도식화 하면 아래처럼 표현할 수 있을 것이다. 이를 <strong><em>컴파일</em></strong>과 <strong><em>실행</em></strong>이라는 두 단계로 나눠서, 각 단계별로 어떤 과정이 일어나는지 살펴보자.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135147400-5589a7fd-4a0d-4016-b4ed-d7e5e2589525.png" width="85%" /></p><p>※ 컴파일 파트는 <a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-1/#about">HomoEfficio 님의 블로그</a>를 바탕으로 정리하였음을 미리 밝힙니다.</p><h1 id="1-컴파일">1. 컴파일</h1><hr /><blockquote><p>javac 컴파일러에 의해 <code class="language-plaintext highlighter-rouge">자바 소스 코드 파일(.java) → JVM 바이트코드(.class)</code>로 변환되는 과정</p></blockquote><ul><li>C와 같은 대부분의 다른 언어는 Intel 또는 HP 프로세서 관련 명령어와 같은 컴퓨터 관련 명령어로 컴파일된다.<li>하지만, Java 코드는 컴파일되면 플랫폼에 독립적인 표준 바이트코드 세트로 변환되며, 이 바이트코드는 JVM(Java Virtual Machine)에 의해 실행된다.<ul><li>Java에서는 각 명령어가 1바이트의 균일한 크기를 가지므로 이러한 명령어를 <strong>바이트코드</strong>라고 한다.</ul><li>JVM 스펙의 <code class="language-plaintext highlighter-rouge">.class</code> 파일 구조에 맞는 바이트코드를 만들어 낼 수 있다면 어떤 언어든 JVM에서 실행될 수 있다.<ul><li>클로저(Clojure)나 스칼라, 코틀린 등이 JVM에서 실행될 수 있는 이유가 바로 여기에 있다.</ul></ul><h2 id="컴파일-과정">컴파일 과정</h2><blockquote><p>컴파일을 크게 두 파트로 나누면 다음과 같다.</p><ul><li>자바 언어 스펙에 따라 자바 코드 분석/검증<li>JVM 스펙의 class 파일 구조에 맞는 바이트코드를 생성</ul></blockquote><h3 id="1-자바-언어-스펙에-따라-분석검증">1. 자바 언어 스펙에 따라 분석/검증</h3><ul><li>어휘 분석 (Lexical Analysis)<ul><li>Lexical Analyzer(Lexer 또는 Tokenizer라고도 한다)가 소스 코드에서 문자 단위로 읽어서 어휘소(lexeme)를 식별하고 어휘소를 설명하는 토큰 스트림(Token Stream)을 생성한다.</ul><li>구문 분석 (Syntax Analysis)<ul><li>Syntax Analyzer(구문 분석기, Parser 라고도 한다)가 어휘 분석 결과로 나온 토큰 스트림이 언어의 스펙으로 정해진 문법 형식에 맞는지 검사해서, 맞지 않으면 컴파일 에러를 내고, 맞으면 Parse Tree를 생성한다.</ul><li>의미 분석 (Symantic Analysis)<ul><li>타입 검사, 자동 타입 변환 등이 수행된다.<li>예를 들어 다음과 같은 코드(<code class="language-plaintext highlighter-rouge">int a = "Hello";</code>)는 구문 분석 단계에서는 에러가 나지 않지만, 의미 분석 단계에서는 타입 검사가 수행되면서 에러가 발생한다.<li>의미 분석 단계를 거치면서 Parse Tree에 타입 관련 정보 등이 추가된다.</ul></ul><h3 id="2-jvm-스펙의-class-파일-구조에-맞는-바이트코드를-생성">2. JVM 스펙의 class 파일 구조에 맞는 바이트코드를 생성</h3><ul><li>중간 코드 생성 (Intermediate Code Generation)<ul><li>의미 분석 단계를 통과한 파스 트리를 바탕으로 기계어로 변환하기 좋은 형태의 중간 언어로 된 중간 코드를 생성한다.<li>중간 단계를 하나 둬서 간접화를 통해 경우의 수를 낮추고 효율을 높일 수 있다.<ul><li>자바의 바이트코드가 중간 코드에 해당한다고 볼 수 있다.<li>다음 그림에서 4개의 언어를 나타내는 네모를 각각 자바, 클로저(Clojure), 스칼라, 코틀린이라면, 녹색 네모는 바이트코드라고 할 수 있다.</ul></ul><figure align="center"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135106178-b7b035e1-8dbd-4c74-ac4d-9ac7a5a7c772.png" width="80%" /><figcaption align="center">출처 : <a href="https://www.slideshare.net/RamchandraRegmi/intermediate-code-generationramchandra-regmi">https://www.slideshare.net/RamchandraRegmi/intermediate-code-generationramchandra-regmi/</a></figcaption></figure><li>중간 코드 최적화 (Code Optimization)<ul><li>중간 코드가 더 효율적인 기계어로 변환되도록 최적화하는 과정이다.<li>다음과 같이 매우 다양한 최적화 기법이 사용된다.<ul><li>핍홀(Peephole) 최적화<li>지역 최적화<li>루프 최적화<li>전역 최적화</ul></ul></ul><h1 id="2-실행">2. 실행</h1><hr /><blockquote><p><code class="language-plaintext highlighter-rouge">java [options] mainclass [args...] </code>로 자바 애플리케이션을 실행할 수 있다. <code class="language-plaintext highlighter-rouge">java</code> 명령어를 실행하게 되면</p><ol><li>JRE(Java Runtime Environment)를 시작 (바이트코드 실행)<li>지정된 클래스를 로드<li>해당 클래스의 main() 메서드를 호출하여 애플리케이션 실행 <br /></ol></blockquote><p><strong>위에서 살펴본 과정은 JVM이 담당하게 된다. JVM이 무엇이고 어떻게 해당 과정을 수행하는지 살펴보자.</strong> <br /></p><h2 id="jvmjava-virtual-machine이란-">JVM(Java Virtual Machine)이란 ?</h2><blockquote><p><a href="https://docs.oracle.com/cd/E11882_01/java.112/e10588/chone.htm#JJDEV13017">공식 문서</a>에서는 JVM을 다음과 같이 표현한다. <br /> <q>A JVM is a separate program that is optimized for the specific platform on which you run your Java code.</q> <br /> → “JVM은 Java 코드를 실행하는 <strong>특정 플랫폼에 최적화된</strong> 별도의 프로그램이다.”</p></blockquote><ul><li>자바 애플리케이션을 개발할 때 자바 언어로 작성된 사전 정의된 core class library를 사용한다.<li>core class library는 일반적으로 사용되는 기능을 제공하는 패키지이다.<ul><li>예를 들어, 기본 언어 지원은 <code class="language-plaintext highlighter-rouge">java.lang</code>, I/O 지원은 <code class="language-plaintext highlighter-rouge">java.io</code>, 네트워크 접근은 <code class="language-plaintext highlighter-rouge">java.net</code> 패키지를 통해 제공된다.</ul><li>JVM과 core class library는 자바를 지원하는 모든 운영 체제에서 <strong>자바 애플리케이션을 개발할 수 있는 플랫폼</strong>을 제공한다.<ul><li>이를 통해 자바의 핵심 사상인 <strong>“write once, run anywhere”(WORA)</strong>가 가능해진다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135127896-365f33d9-8022-4070-ad49-93e45a6b5112.png" alt="image" /></ul><li>자바를 다운받을 때, 운영체제 별로 나뉘어져 있는 것을 생각해보면 쉽게 와닿을 것 같다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135125540-a9fc02df-3d78-43b4-9a39-e07b0a4382fa.png" alt="image" /></ul><h2 id="jvm이-바이트코드를-실행하기까지">JVM이 바이트코드를 실행하기까지</h2><blockquote><p>JVM의 구성요소를 살펴보면서 어떻게 실행되는지 알아보자.</p></blockquote><figure align="center"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135129315-6f93493a-71c5-4d3a-a1d5-325a64d68208.png" width="80%" /><figcaption align="center">출처 : <a href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">https://www.geeksforgeeks.org/jvm-works-jvm-architecture/</a></figcaption></figure><h3 id="1-class-loader--loading-linking-initializing">1. Class Loader : Loading, Linking, Initializing</h3><blockquote><p>JVM은 클래스와 인터페이스를 동적으로 로드, 연결 및 초기화한다.</p></blockquote><h4 id="loading">Loading</h4><blockquote><p>특정 이름을 가진 클래스, 인터페이스 타입의 이진 표현을 바탕으로 클래스, 인터페이스를 만드는 과정이다.</p></blockquote><ul><li>클래스 로더는 <code class="language-plaintext highlighter-rouge">.class</code> 파일을 읽고 해당 파일에 대한 이진 데이터를 Method Area에 저장한다.<li>JVM은 각 <code class="language-plaintext highlighter-rouge">.class</code> 파일에 대해 다음 정보를 Method Area에 저장한다.<ul><li>로드된 클래스 및 해당 직계 부모 클래스의 정규화된(fully qualified) 이름<div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
 <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">argv</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">Class</span> <span class="n">c</span> <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">ArrayList</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">className</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"The fully-qualified name of the class is: "</span> <span class="o">+</span> <span class="n">className</span><span class="o">);</span>
    <span class="c1">// The fully-qualified name of the class is: java.util.ArrayList</span>
 <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><li><code class="language-plaintext highlighter-rouge">.class</code> 파일이 <code class="language-plaintext highlighter-rouge">Class</code>, <code class="language-plaintext highlighter-rouge">Interface</code> 또는 <code class="language-plaintext highlighter-rouge">Enum</code>과 관련이 있는지 여부<li>수정자(<code class="language-plaintext highlighter-rouge">public</code>, <code class="language-plaintext highlighter-rouge">final</code>, <code class="language-plaintext highlighter-rouge">static</code>, …), 변수, 메서드 정보 등</ul><li><code class="language-plaintext highlighter-rouge">.class</code> 파일을 로드한 후 JVM은 이 파일을 힙 메모리에 나타내기 위해 <code class="language-plaintext highlighter-rouge">Class</code> 타입의 객체를 생성한다.<li>이 객체는 <code class="language-plaintext highlighter-rouge">java.lang</code> 패키지에 미리 정의된 <code class="language-plaintext highlighter-rouge">java.lang.Class&lt;T&gt;</code>이다.<li><code class="language-plaintext highlighter-rouge">Class</code> 객체는 클래스 이름, 부모 이름, 메서드 및 변수 정보 등과 같은 클래스 레벨의 정보를 얻는 데 사용할 수 있다.<li>이 객체 참조를 얻으려면 <code class="language-plaintext highlighter-rouge">Object.getClass()</code> 메서드를 사용한다.<li>로드된 모든 <code class="language-plaintext highlighter-rouge">.class</code> 파일에 대해 하나의 클래스 객체만 생성된다.</ul><h4 id="linking">Linking</h4><blockquote><p>클래스, 인터페이스를 결합하여 JVM이 실행할 수 있는 상태로 만드는 과정이다. <br /> verification, preparation, (선택적으로) resolution을 수행한다.</p></blockquote><ul><li>Verification<ul><li><code class="language-plaintext highlighter-rouge">.class</code> 파일의 정확성을 보장한다.<ul><li>즉, 올바른 형식으로 올바른 컴파일러에 의해 생성되었는지 여부를 확인한다.</ul><li>검증에 실패하면 런타임 예외 <code class="language-plaintext highlighter-rouge">java.lang.VerifyError</code>가 발생한다.<ul><li>이 과정은 ‘ByteCodeVerifier’ 컴포넌트에 의해 수행된다.</ul><li>검증이 완료되면 <code class="language-plaintext highlighter-rouge">class.</code>파일을 (기계어로) 컴파일할 준비가 된 것이다.</ul><li>Preparation<ul><li>JVM은 클래스 변수에 대한 메모리를 할당하고 메모리를 기본값으로 초기화한다.</ul><li>Resolution<ul><li>타입의 심볼릭 레퍼런스를 direct 레퍼런스로 바꾸는 과정이다.<li>참조된 엔터티를 찾기 위해 메서드 영역을 탐색한다.</ul></ul><h4 id="initialization">Initialization</h4><blockquote><p>클래스 또는 인터페이스의 초기화 메서드를 실행하는 것이다.</p></blockquote><ul><li>이 단계에서 모든 <code class="language-plaintext highlighter-rouge">static</code> 변수는 코드 및 <code class="language-plaintext highlighter-rouge">static block</code>(있는 경우)에 정의된 값으로 할당된다.<li>클래스에서는 위에서 아래로, 클래스 계층에서는 부모에서 자식 순서로 실행된다.</ul><h3 id="참고-클래스-로더-구성">참고. 클래스 로더 구성</h3><blockquote><p>일반적으로, 세 가지 클래스 로더로 구성된다.</p></blockquote><ul><li>Bootstrap class loader<ul><li><code class="language-plaintext highlighter-rouge">JAVA_HOME/jre/lib</code> 디렉토리에 있는 핵심 Java API 클래스를 로드한다.<ul><li>이 경로는 일반적으로 부트스트랩 경로로 알려져있다.<li>C, C++ 등의 native 언어로 구현되어 있다.</ul><li>모든 JVM 구현에는 신뢰할 수 있는 클래스를 로드할 수 있는 부트스트랩 클래스 로더가 있어야한다.</ul><li>Extension class loader<ul><li>부트스트랩 클래스 로더의 자식이다.<li><code class="language-plaintext highlighter-rouge">JAVA_HOME/jre/lib/ext</code>(확장 경로) 또는 <code class="language-plaintext highlighter-rouge">java.ext.dirs</code> 시스템 속성에 의해 지정된 다른 디렉토리에 있는 클래스를 로드한다.<li>자바에서는 <code class="language-plaintext highlighter-rouge">sun.misc.Launcher$ExtClassLoader</code> 클래스에 의해 구현된다.</ul><li>System/Application class loader<ul><li>확장 클래스 로더의 자식입니다.<li>애플리케이션 <code class="language-plaintext highlighter-rouge">classpath</code>에서 클래스를 로드하는 역할을 수행한다.<li>내부적으로 <code class="language-plaintext highlighter-rouge">java.class.path</code>에 매핑된 환경 변수를 사용한다.<li>자바에서는 <code class="language-plaintext highlighter-rouge">sun.misc.Launcher$AppClassLoader</code> 클래스에 의해 구현된다.</ul></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="c1">// String class is loaded by bootstrap loader, and</span>
        <span class="c1">// bootstrap loader is not Java object, hence null</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span> <span class="c1">// null</span>

        <span class="c1">// Test class is loaded by Application loader</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Test</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span> <span class="c1">// jdk.internal.loader.ClassLoaders$AppClassLoader@8bcc55f</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>JVM은 Delegation-Hierarchy 원칙에 따라 클래스를 로드한다.<li>시스템 클래스 로더는 확장 클래스 로더에 로드 요청을 위임하고, 확장 클래스 로더는 부트스트랩 클래스 로더에 요청을 위임한다.<li>부트스트랩 경로에 클래스가 있는 경우 해당 클래스가 로드되지 않으면 다시 요청을 확장 클래스 로더로 전송한 다음 시스템 클래스 로더로 전송한다.<li>마지막으로 시스템 클래스 로더가 클래스 로드에 실패하면 런타임 예외 <code class="language-plaintext highlighter-rouge">java.lang.ClassNotFoundException</code>이 발생한다.</ul><figure align="center"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/64415489/135138502-e98e346b-9bfe-4fef-858a-aaddf838e213.png" width="80%" /><figcaption align="center">출처 : <a href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">https://www.geeksforgeeks.org/jvm-works-jvm-architecture/</a></figcaption></figure><h3 id="2-runtime-data-araejvm-memory">2. Runtime Data Arae(JVM Memory)</h3><p><a href="https://zz9z9.github.io/posts/java-variable-type-and-jvm-memory/">해당 내용과 관련하여 정리했던 포스팅</a>을 참조하면 될 것 같다.</p><h3 id="3-execution-engine">3. Execution Engine</h3><blockquote><p>바이트 코드를 한 줄씩 읽어들여 다양한 메모리 영역에 있는 데이터와 정보를 바탕으로 명령을 실행한다. <br /> 크게 Interpreter, JIT Compiler, Garbage Collector 세 부분으로 구성된다.</p></blockquote><h4 id="interpreter">Interpreter</h4><ul><li>바이트코드를 한 줄씩 해석하여 실행한다.<li>같은 메서드를 여러 번 호출하는 경우, 매번 해석이 필요하기 때문에 비효율적이다.</ul><h4 id="jit-compiler">JIT Compiler</h4><ul><li>인터프리터의 효율성을 높이기 위해 사용합니다.<li>전체 바이트 코드를 컴파일하여 네이티브 코드로 변경한다.<ul><li>인터프리터가 반복되는 메서드를 호출할 때마다 해당 부분에 대해 JIT가 네이티브 코드를 제공한다.<li>결과적으로, 재해석이 필요하지 않으므로 효율성이 향상된다.</ul></ul><h4 id="garbage-collector">Garbage Collector</h4><ul><li>더 이상 참조되지 않는 객체를 제거한다.</ul><h3 id="4-java-native-interface-jni">4. Java Native Interface (JNI)</h3><ul><li>Native Method Libraries와 연동하여 실행에 필요한 Native Library(C, C++)를 제공하는 인터페이스이다.<li>JVM이 C/C++ 라이브러리를 호출할 수 있고, 하드웨어 전용 C/C++ 라이브러리에 의해 호출될 수도 있다.</ul><h3 id="5-native-method-libraries">5. Native Method Libraries</h3><ul><li>Execution Engine에서 필요로 하는 Native Libraries(C, C++)의 모음이다.</ul><h1 id="더-공부할-부분">더 공부할 부분</h1><hr /><ul><li>JIT Compiler<li>Garbage Collector<li>바이트코드</ul><h1 id="참고-자료">참고 자료</h1><hr /><ul><li><a href="https://docs.oracle.com/cd/E11882_01/java.112/e10588/chone.htm#JJDEV13018">https://docs.oracle.com/cd/E11882_01/java.112/e10588/chone.htm#JJDEV13018</a><li><a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-1/">https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-1/</a><li><a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-2/">https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-2/</a><li><a href="https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE">https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE</a><li><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.2">https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.2</a><li><a href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">https://www.geeksforgeeks.org/jvm-works-jvm-architecture/</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%A7%80%EC%8B%9D-%EB%8D%94%ED%95%98%EA%B8%B0/'>지식 더하기</a>, <a href='/categories/%EC%9D%B4%EB%A1%A0/'>이론</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Java - 자바 애플리케이션이 실행되는 과정 살펴보기 - zz9z9&url=https://zz9z9.github.io/posts/java-how-java-works/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Java - 자바 애플리케이션이 실행되는 과정 살펴보기 - zz9z9&u=https://zz9z9.github.io/posts/java-how-java-works/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Java - 자바 애플리케이션이 실행되는 과정 살펴보기 - zz9z9&url=https://zz9z9.github.io/posts/java-how-java-works/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-entity-manager-persistence-context/">EntityManager와 영속성 컨텍스트</a><li><a href="/posts/jpa-id-generation-strategy/">JPA/Hibernate ID 생성 전략</a><li><a href="/posts/aws-vpc/">AWS VPC(Virtual Private Cloud) - 기초 개념</a><li><a href="/posts/aws-efs/">AWS EFS(Elastic File System) - 기초 개념</a><li><a href="/posts/aws-intro/">AWS - 상품 살펴보기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/java-io-nio/"><div class="card-body"> <span class="timeago small" > Sep 7, 2021 <i class="unloaded">2021-09-07T00:29:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - 자바 IO, NIO</h3><div class="text-muted small"><p> Java I/O Input, Output을 나타낸다. In, Out의 기준은 JVM이다. 즉, JVM으로 들어오는 데이터를 다루는 경우엔 Input 데이터를 내보내는 경우엔 Output이다. Stream 기반이다. 한 번에 1byte 또는 그 이상의 byte를 읽는다. 데이터가 캐시되지 않는다. 따라서 ...</p></div></div></a></div><div class="card"> <a href="/posts/java-reading-file/"><div class="card-body"> <span class="timeago small" > Sep 8, 2021 <i class="unloaded">2021-09-08T00:29:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - 자바에서 파일 읽어오기</h3><div class="text-muted small"><p> 들어가기 전 사실 실무에서 자바 코드로 파일을 읽어와서 데이터를 처리하거나 할 일이 없어서, 파일을 다루는 부분에 대한 코드를 작성할 일이 생기면, 그 때 마다 구글링해서 사용했던 것 같다. 최근에 .json 파일에 있는 데이터를 읽어와서 처리해야할 일이 있었는데, 매번 구글링 하는 것 보다 머릿속에 한 번 확실히 정리해야 할 것 같다는 생각이 들...</p></div></div></a></div><div class="card"> <a href="/posts/equals-and-hashcode/"><div class="card-body"> <span class="timeago small" > Sep 24, 2021 <i class="unloaded">2021-09-24T22:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - 왜 equals()와 hashCode()는 함께 오버라이딩 해야할까 ?</h3><div class="text-muted small"><p> 들어가기 전 실무에서는 equals(), hashCode() 메서드를 오버라이드 할 일이 별로 없었던 것 같다. 하지만 몇 달 전 간단한 웹 서버를 만들어보는 토이 프로젝트를 진행하던 중, 클라이언트로부터 받은 요청을 유틸 클래스의 메서드를 사용해서 HttpRequest 객체를 만드는 부분에 대한 테스트 코드를 작성했는데 원하는 결과가 나오지 않았...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/java-spec-per-version/" class="btn btn-outline-primary" prompt="Older"><p>Java - 자바 버전별 특징 살펴보기(JAVA 7~17)</p></a> <a href="/posts/mysql-architecture/" class="btn btn-outline-primary" prompt="Newer"><p>MySQL - MySQL 내부 구조 간단히 살펴보기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/username">Lee JaeYoon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zz9z9.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
