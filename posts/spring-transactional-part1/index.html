<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Spring - @Transactional 살펴보기 (1) - AOP Proxy" /><meta property="og:locale" content="en_US" /><meta name="description" content="AOP Proxy 스프링 : https://docs.spring.io/spring-framework/reference/core/aop/introduction-proxies.html 스프링 부트 : https://docs.spring.vmware.com/spring-boot/docs/3.0.14/reference/htmlsingle/#features.aop" /><meta property="og:description" content="AOP Proxy 스프링 : https://docs.spring.io/spring-framework/reference/core/aop/introduction-proxies.html 스프링 부트 : https://docs.spring.vmware.com/spring-boot/docs/3.0.14/reference/htmlsingle/#features.aop" /><link rel="canonical" href="https://zz9z9.github.io/posts/spring-transactional-part1/" /><meta property="og:url" content="https://zz9z9.github.io/posts/spring-transactional-part1/" /><meta property="og:site_name" content="zz9z9" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-05-25T00:25:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Spring - @Transactional 살펴보기 (1) - AOP Proxy" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-05-27T00:26:21+09:00","datePublished":"2025-05-25T00:25:00+09:00","description":"AOP Proxy 스프링 : https://docs.spring.io/spring-framework/reference/core/aop/introduction-proxies.html 스프링 부트 : https://docs.spring.vmware.com/spring-boot/docs/3.0.14/reference/htmlsingle/#features.aop","headline":"Spring - @Transactional 살펴보기 (1) - AOP Proxy","mainEntityOfPage":{"@type":"WebPage","@id":"https://zz9z9.github.io/posts/spring-transactional-part1/"},"url":"https://zz9z9.github.io/posts/spring-transactional-part1/"}</script><title>Spring - @Transactional 살펴보기 (1) - AOP Proxy | zz9z9</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zz9z9"><meta name="application-name" content="zz9z9"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-Q7PWLG5WYT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Q7PWLG5WYT'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Soccerball.svg/1000px-Soccerball.svg.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zz9z9</a></div><div class="site-subtitle font-italic">거창한 계획보다는, 꾸준한 실행을</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zz9z9" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Spring - @Transactional 살펴보기 (1) - AOP Proxy</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Spring - @Transactional 살펴보기 (1) - AOP Proxy</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Lee JaeYoon </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, May 25, 2025, 12:25 AM +0900" prep="on" > May 25, 2025 <i class="unloaded">2025-05-25T00:25:00+09:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, May 27, 2025, 12:26 AM +0900" prefix="Updated " > May 27, 2025 <i class="unloaded">2025-05-27T00:26:21+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1898 words">10 min</span></div></div><div class="post-content"><h2 id="aop-proxy">AOP Proxy</h2><blockquote><p>스프링 : <a href="https://docs.spring.io/spring-framework/reference/core/aop/introduction-proxies.html">https://docs.spring.io/spring-framework/reference/core/aop/introduction-proxies.html</a> <br /> 스프링 부트 : <a href="https://docs.spring.vmware.com/spring-boot/docs/3.0.14/reference/htmlsingle/#features.aop">https://docs.spring.vmware.com/spring-boot/docs/3.0.14/reference/htmlsingle/#features.aop</a></p></blockquote><div class="table-wrapper"><table><thead><tr><th>프레임워크<th>AOP 프록시 기본값<th>조건<th>설명<tbody><tr><td><strong>Spring Framework</strong><td><strong>JDK 동적 프록시</strong><td>기본<td>인터페이스 기반이 권장되므로 JDK Proxy 선호<tr><td><strong>Spring Boot</strong><td><strong>CGLIB</strong><td>기본 (<code class="language-plaintext highlighter-rouge">spring.aop.proxy-target-class=true</code>)<td>실용성과 호환성 고려해서 CGLIB이 기본값</table></div><ul><li>Spring Boot 3.4.4 <code class="language-plaintext highlighter-rouge">additional-spring-configuration-metadata.json</code> 파일 확인해보기<ul><li><code class="language-plaintext highlighter-rouge">additional-spring-configuration-metadata.json</code> : Spring Boot의 application.properties / application.yml 자동완성 기능을 지원하기 위한 메타데이터 파일</ul></ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spring.aop.proxy-target-class"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.lang.Boolean"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Whether subclass-based (CGLIB) proxies are to be created (true), as opposed to standard Java interface-based proxies (false)."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><strong>Spring Framework</strong></p><ul><li>Spring의 철학은 “인터페이스 기반 프로그래밍”을 권장<li>따라서 프록시도 <strong>JDK 동적 프록시 (인터페이스 기반)</strong>을 기본으로 선택<li>클래스에 대해 프록시를 만들려면 <code class="language-plaintext highlighter-rouge">proxyTargetClass = true</code> 명시적으로 설정해야 함</ul><p><strong>Spring Boot</strong></p><blockquote><p>“편의성과 일관성”을 중요시함</p></blockquote><ul><li>많은 개발자들이 인터페이스 없이도 AOP 사용을 원함<li>특히 @Transactional, @Async, @Scheduled 같은 어노테이션 기반 기능은 클래스에 붙는 경우가 많음<li>그래서 Spring Boot는 자동 설정으로 CGLIB을 기본으로 사용하도록 설정함</ul><h3 id="cglib-byte-code-generation-library">Cglib (Byte Code Generation Library)</h3><ul><li><a href="https://github.com/cglib/cglib">github repo</a>에 적힌 설명을 보면 다음과 같다.<blockquote><p>Byte Code Generation Library is high level API to generate and transform Java byte code. It is used by AOP, testing, data access frameworks to generate dynamic proxy objects and intercept field access.</p></blockquote></ul><blockquote><p><strong>바이트코드 생성 라이브러리(Byte Code Generation Library)</strong>는 Java 바이트코드를 생성하고 변형하기 위한 고수준 API입니다. 이 라이브러리는 AOP(관점 지향 프로그래밍), 테스트, 데이터 접근 프레임워크 등에서 동적 프록시 객체를 생성하거나 필드 접근을 가로채기 위해 사용됩니다.</p></blockquote><div class="table-wrapper"><table><thead><tr><th> <th>CGLIB 라이브러리<th>Spring 내장 CGLIB<tbody><tr><td>클래스 경로<td><code class="language-plaintext highlighter-rouge">net.sf.cglib.proxy.Enhancer</code><td><code class="language-plaintext highlighter-rouge">org.springframework.cglib.proxy.Enhancer</code><tr><td>소스<td><a href="https://github.com/cglib/cglib">cglib GitHub</a><td>Spring이 자체적으로 재포장</table></div><p><strong>왜 Spring은 CGLIB을 내장시켰나 ?</strong></p><ul><li>라이브러리 충돌 방지<ul><li>예전엔 다른 라이브러리도 cglib을 사용했는데, 버전 충돌이 자주 발생<li>Spring은 이를 피하기 위해 패키지를 변경해서 자체 포함 (shading)</ul><li>경량 의존성 구성<ul><li>Spring Boot 사용 시 spring-core 하나로 충분히 동작<li>개발자가 cglib를 별도로 추가할 필요 없음</ul><li>일관성 보장<ul><li>Spring AOP, ProxyFactory, @Transactional 등 내부 동작이 cglib에 크게 의존<li>버전 변화나 API 변경의 영향을 줄이기 위해 <code class="language-plaintext highlighter-rouge">org.springframework.cglib.*</code>로 고정</ul></ul><h2 id="cglib-aop-proxy-살펴보기">Cglib AOP Proxy 살펴보기</h2><blockquote><p>Controller에서 보면 구현체가 <code class="language-plaintext highlighter-rouge">UserService$$SpringCGLIB$$</code>인 것을 확인할 수 있다.</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/zz9z9/zz9z9.github.io@master/assets/img/transactional-proxy-img1.png" alt="image" /></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UserHistoryRepository</span> <span class="n">userHistoryRepository</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="nf">getAllUsers</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">userRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Transactional</span>
    <span class="kd">public</span> <span class="nc">User</span> <span class="nf">create</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">userRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
        <span class="n">userHistoryRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="nc">UserHistory</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">user</span><span class="o">));</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p><strong>어디서 생성하는걸까 ?</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="c1">// org.springframework.aop.framework.CglibAopProxy#buildProxy</span>
<span class="kd">private</span> <span class="nc">Object</span> <span class="nf">buildProxy</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="nc">ClassLoader</span> <span class="n">classLoader</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">classOnly</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">logger</span><span class="o">.</span><span class="na">isTraceEnabled</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">trace</span><span class="o">(</span><span class="s">"Creating CGLIB proxy: "</span> <span class="o">+</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">advised</span><span class="o">.</span><span class="na">getTargetSource</span><span class="o">()));</span>
  <span class="o">}</span>

  <span class="k">try</span> <span class="o">{</span>
    <span class="o">...</span>

    <span class="k">this</span><span class="o">.</span><span class="na">validateClassIfNecessary</span><span class="o">(</span><span class="n">proxySuperClass</span><span class="o">,</span> <span class="n">classLoader</span><span class="o">);</span>
    <span class="nc">Enhancer</span> <span class="n">enhancer</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">createEnhancer</span><span class="o">();</span>

    <span class="o">...</span>

    <span class="n">enhancer</span><span class="o">.</span><span class="na">setSuperclass</span><span class="o">(</span><span class="n">proxySuperClass</span><span class="o">);</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setInterfaces</span><span class="o">(</span><span class="nc">AopProxyUtils</span><span class="o">.</span><span class="na">completeProxiedInterfaces</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">advised</span><span class="o">));</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setNamingPolicy</span><span class="o">(</span><span class="nc">SpringNamingPolicy</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">);</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setAttemptLoad</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setStrategy</span><span class="o">(</span><span class="nc">KotlinDetector</span><span class="o">.</span><span class="na">isKotlinType</span><span class="o">(</span><span class="n">proxySuperClass</span><span class="o">)</span> <span class="o">?</span> <span class="k">new</span> <span class="nc">ClassLoaderAwareGeneratorStrategy</span><span class="o">(</span><span class="n">classLoader</span><span class="o">)</span> <span class="o">:</span> <span class="k">new</span> <span class="nc">ClassLoaderAwareGeneratorStrategy</span><span class="o">(</span><span class="n">classLoader</span><span class="o">,</span> <span class="n">undeclaredThrowableStrategy</span><span class="o">));</span>
    <span class="nc">Callback</span><span class="o">[]</span> <span class="n">callbacks</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getCallbacks</span><span class="o">(</span><span class="n">rootClass</span><span class="o">);</span>
    <span class="nc">Class</span><span class="o">&lt;?&gt;[]</span> <span class="n">types</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Class</span><span class="o">[</span><span class="n">callbacks</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>

    <span class="k">for</span><span class="o">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">types</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">x</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">types</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">callbacks</span><span class="o">[</span><span class="n">x</span><span class="o">].</span><span class="na">getClass</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nc">ProxyCallbackFilter</span> <span class="n">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProxyCallbackFilter</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">advised</span><span class="o">.</span><span class="na">getConfigurationOnlyCopy</span><span class="o">(),</span> <span class="k">this</span><span class="o">.</span><span class="na">fixedInterceptorMap</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">fixedInterceptorOffset</span><span class="o">);</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setCallbackFilter</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="na">setCallbackTypes</span><span class="o">(</span><span class="n">types</span><span class="o">);</span>

    <span class="nc">Object</span> <span class="n">var22</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">var22</span> <span class="o">=</span> <span class="n">classOnly</span> <span class="o">?</span> <span class="k">this</span><span class="o">.</span><span class="na">createProxyClass</span><span class="o">(</span><span class="n">enhancer</span><span class="o">)</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">createProxyClassAndInstance</span><span class="o">(</span><span class="n">enhancer</span><span class="o">,</span> <span class="n">callbacks</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
      <span class="n">filter</span><span class="o">.</span><span class="na">advised</span><span class="o">.</span><span class="na">reduceToAdvisorKey</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">var22</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="enhancer">Enhancer</h3><blockquote><p>위 코드에서 보면, <code class="language-plaintext highlighter-rouge">Enhancer</code>가 프록시 생성에서 중요한 역할을 역할을 하는 것처럼 보인다. org.springframework.cglib.proxy.Enhancer (CGLIB의 핵심 클래스)</p></blockquote><ul><li>CGLIB은 인터페이스가 아닌 클래스 자체를 상속하여 프록시를 만들 때 사용됨<li>이때 프록시 클래스를 만드는 역할을 담당하는 것이 <code class="language-plaintext highlighter-rouge">Enhancer</code>. <strong>즉, CGLIB 프록시는 항상 Enhancer를 통해 생성됨</strong><ul><li>Enhancer는 내부적으로 ASM을 사용해서 프록시 클래스를 위한 바이트코드를 생성<li>이 바이트코드는 JVM의 <code class="language-plaintext highlighter-rouge">defineClass()</code>를 통해 메모리에 로드됨</ul></ul><div class="table-wrapper"><table><thead><tr><th>기능<th>설명<tbody><tr><td><code class="language-plaintext highlighter-rouge">setSuperclass(Class)</code><td>어떤 클래스를 상속할지 지정 (프록시 대상 클래스)<tr><td><code class="language-plaintext highlighter-rouge">setCallbacks(Callback[])</code><td>메서드 호출 시 실행할 인터셉터 설정<tr><td><code class="language-plaintext highlighter-rouge">setCallbackFilter(CallbackFilter)</code><td>어떤 메서드에 어떤 Callback을 적용할지 결정<tr><td><code class="language-plaintext highlighter-rouge">create()</code><td>실제로 프록시 클래스를 생성하고 인스턴스화</table></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c1">// org.springframework.cglib.proxy.Enhancer</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCallback</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Callback</span> <span class="n">callback</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">setCallbacks</span><span class="o">(</span><span class="k">new</span> <span class="nc">Callback</span><span class="o">[]{</span><span class="n">callback</span><span class="o">});</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCallbacks</span><span class="o">(</span><span class="nc">Callback</span><span class="o">[]</span> <span class="n">callbacks</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">callbacks</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">callbacks</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"Array cannot be empty"</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">callbacks</span> <span class="o">=</span> <span class="n">callbacks</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">// org.springframework.cglib.proxy.MethodInterceptor</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MethodInterceptor</span> <span class="kd">extends</span> <span class="nc">Callback</span> <span class="o">{</span>
    <span class="nc">Object</span> <span class="nf">intercept</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">,</span> <span class="nc">Method</span> <span class="n">method</span><span class="o">,</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">,</span> <span class="nc">MethodProxy</span> <span class="n">proxy</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Throwable</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>예제</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TempInterceptor</span> <span class="kd">implements</span> <span class="nc">MethodInterceptor</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">intercept</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">,</span> <span class="nc">Method</span> <span class="n">method</span><span class="o">,</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">,</span> <span class="nc">MethodProxy</span> <span class="n">proxy</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Before method: "</span> <span class="o">+</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="nc">Object</span> <span class="n">result</span> <span class="o">=</span> <span class="n">proxy</span><span class="o">.</span><span class="na">invokeSuper</span><span class="o">(</span><span class="n">obj</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span> <span class="c1">// 원본 메서드 호출</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"After method: "</span> <span class="o">+</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">org.springframework.cglib.proxy.Enhancer</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Enhancer</span> <span class="n">enhancer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Enhancer</span><span class="o">();</span>
        <span class="n">enhancer</span><span class="o">.</span><span class="na">setSuperclass</span><span class="o">(</span><span class="nc">TempService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span> <span class="c1">// 원본 클래스 지정</span>
        <span class="n">enhancer</span><span class="o">.</span><span class="na">setCallback</span><span class="o">(</span><span class="k">new</span> <span class="nc">TempInterceptor</span><span class="o">());</span> <span class="c1">// 인터셉터 지정</span>

        <span class="c1">// 프록시 인스턴스 생성</span>
        <span class="nc">TempService</span> <span class="n">proxy</span> <span class="o">=</span> <span class="o">(</span><span class="nc">TempService</span><span class="o">)</span> <span class="n">enhancer</span><span class="o">.</span><span class="na">create</span><span class="o">();</span> <span class="c1">// TempService$$EnhancerByCGLIB$$</span>

        <span class="c1">// 프록시 메서드 호출 (intercept → invokeSuper → 원본 호출)</span>
        <span class="n">proxy</span><span class="o">.</span><span class="na">hello</span><span class="o">(</span><span class="s">"CGLIB"</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><ul><li>결과<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>Before method: hello
Hello, CGLIB
After method: hello
</pre></table></code></div></div><li>final 클래스는 프록시 생성 안됨 (상속을 못하기 때문에)<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class ... : Common causes of this problem include using a final class or a non-visible class
</pre></table></code></div></div></ul><h2 id="transactional로-인해-생성된-프록시-객체에는-어떤-interceptor가-세팅될까-">@Transactional로 인해 생성된 프록시 객체에는 어떤 Interceptor가 세팅될까 ?</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/zz9z9/zz9z9.github.io@master/assets/img/transactional-proxy-img2.png" alt="image" /></p><p><strong>DynamicAdvisedInterceptor</strong></p><ul><li>실제 프록시 메서드 실행 시 AOP advice를 연결하는 핵심 인터셉터<li><code class="language-plaintext highlighter-rouge">DynamicAdvisedInterceptor#intercept()</code>는 프록시된 메서드가 호출될 때, 실제 메서드 호출 전 이 메서드가 먼저 실행됨</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/zz9z9/zz9z9.github.io@master/assets/img/transactional-proxy-img3.png" alt="image" /></p><ul><li>실제 호출흐름</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/zz9z9/zz9z9.github.io@master/assets/img/transactional-proxy-img4.png" alt="image" /></p><p>※ 참고 : AOP 관련 용어</p><ul><li>Advice : 실제로 실행되는 부가 기능 로직 (예: 로깅, 트랜잭션 시작/커밋, 보안 체크 등)<li>Pointcut : 어디에 Advice를 적용할지 지정. (예: com.example.service.<em>.</em>(..)에 있는 모든 메서드)<li>Advisor : Pointcut + Advice의 묶음. 즉, 실행 위치 + 실행할 로직을 함께 보유하는 AOP 구성 단위<li>JoinPoint: 애플리케이션 실행 중에 AOP로 가로챌 수 있는 모든 지점 (Spring AOP에서는 오직 메서드 실행만 해당)</ul><h3 id="transactioninterceptor-transactionaspectsupport">TransactionInterceptor, TransactionAspectSupport</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c1">// org.springframework.transaction.interceptor.TransactionInterceptor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TransactionInterceptor</span> <span class="kd">extends</span> <span class="nc">TransactionAspectSupport</span> <span class="kd">implements</span> <span class="nc">MethodInterceptor</span><span class="o">,</span> <span class="nc">Serializable</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">TransactionInterceptor</span><span class="o">()</span> <span class="o">{</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">TransactionInterceptor</span><span class="o">(</span><span class="nc">TransactionManager</span> <span class="n">ptm</span><span class="o">,</span> <span class="nc">TransactionAttributeSource</span> <span class="n">tas</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">setTransactionManager</span><span class="o">(</span><span class="n">ptm</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">setTransactionAttributeSource</span><span class="o">(</span><span class="n">tas</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="o">...</span>

  <span class="nd">@Nullable</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">invoke</span><span class="o">(</span><span class="nc">MethodInvocation</span> <span class="n">invocation</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span>
    <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">targetClass</span> <span class="o">=</span> <span class="n">invocation</span><span class="o">.</span><span class="na">getThis</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nc">AopUtils</span><span class="o">.</span><span class="na">getTargetClass</span><span class="o">(</span><span class="n">invocation</span><span class="o">.</span><span class="na">getThis</span><span class="o">())</span> <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
    <span class="nc">Method</span> <span class="n">var10001</span> <span class="o">=</span> <span class="n">invocation</span><span class="o">.</span><span class="na">getMethod</span><span class="o">();</span>
    <span class="nc">Objects</span><span class="o">.</span><span class="na">requireNonNull</span><span class="o">(</span><span class="n">invocation</span><span class="o">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">invokeWithinTransaction</span><span class="o">(</span><span class="n">var10001</span><span class="o">,</span> <span class="n">targetClass</span><span class="o">,</span> <span class="nl">invocation:</span><span class="o">:</span><span class="n">proceed</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="o">...</span>

<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="c1">// org.springframework.transaction.interceptor.TransactionAspectSupport#invokeWithinTransaction</span>
<span class="nd">@Nullable</span>
<span class="kd">protected</span> <span class="nc">Object</span> <span class="nf">invokeWithinTransaction</span><span class="o">(</span><span class="nc">Method</span> <span class="n">method</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">targetClass</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">InvocationCallback</span> <span class="n">invocation</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span>
  <span class="nc">TransactionAttributeSource</span> <span class="n">tas</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getTransactionAttributeSource</span><span class="o">();</span>
  <span class="nc">TransactionAttribute</span> <span class="n">txAttr</span> <span class="o">=</span> <span class="n">tas</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">tas</span><span class="o">.</span><span class="na">getTransactionAttribute</span><span class="o">(</span><span class="n">method</span><span class="o">,</span> <span class="n">targetClass</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
  <span class="nc">TransactionManager</span> <span class="n">tm</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">determineTransactionManager</span><span class="o">(</span><span class="n">txAttr</span><span class="o">,</span> <span class="n">targetClass</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">reactiveAdapterRegistry</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">tm</span> <span class="k">instanceof</span> <span class="nc">ReactiveTransactionManager</span> <span class="n">rtm</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">...</span>
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="nc">PlatformTransactionManager</span> <span class="n">ptm</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">asPlatformTransactionManager</span><span class="o">(</span><span class="n">tm</span><span class="o">);</span>
    <span class="nc">String</span> <span class="n">joinpointIdentification</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">methodIdentification</span><span class="o">(</span><span class="n">method</span><span class="o">,</span> <span class="n">targetClass</span><span class="o">,</span> <span class="n">txAttr</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">txAttr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">ptm</span> <span class="k">instanceof</span> <span class="nc">CallbackPreferringPlatformTransactionManager</span> <span class="n">cpptm</span><span class="o">)</span> <span class="o">{</span>
      <span class="o">...</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="nc">TransactionInfo</span> <span class="n">txInfo</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">createTransactionIfNecessary</span><span class="o">(</span><span class="n">ptm</span><span class="o">,</span> <span class="n">txAttr</span><span class="o">,</span> <span class="n">joinpointIdentification</span><span class="o">);</span>

      <span class="nc">Object</span> <span class="n">retVal</span><span class="o">;</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">retVal</span> <span class="o">=</span> <span class="n">invocation</span><span class="o">.</span><span class="na">proceedWithInvocation</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Throwable</span> <span class="n">var23</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">completeTransactionAfterThrowing</span><span class="o">(</span><span class="n">txInfo</span><span class="o">,</span> <span class="n">var23</span><span class="o">);</span>
        <span class="k">throw</span> <span class="n">var23</span><span class="o">;</span>
      <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cleanupTransactionInfo</span><span class="o">(</span><span class="n">txInfo</span><span class="o">);</span>
      <span class="o">}</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">retVal</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">txAttr</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">TransactionStatus</span> <span class="n">status</span> <span class="o">=</span> <span class="n">txInfo</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">status</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
      <span class="o">}</span>

      <span class="k">this</span><span class="o">.</span><span class="na">commitTransactionAfterReturning</span><span class="o">(</span><span class="n">txInfo</span><span class="o">);</span>
      <span class="k">return</span> <span class="n">retVal</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%A7%80%EC%8B%9D-%EB%8D%94%ED%95%98%EA%B8%B0/'>지식 더하기</a>, <a href='/categories/%EC%9D%B4%EB%A1%A0/'>이론</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/spring/" class="post-tag no-text-decoration" >Spring</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Spring - @Transactional 살펴보기 (1) - AOP Proxy - zz9z9&url=https://zz9z9.github.io/posts/spring-transactional-part1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Spring - @Transactional 살펴보기 (1) - AOP Proxy - zz9z9&u=https://zz9z9.github.io/posts/spring-transactional-part1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Spring - @Transactional 살펴보기 (1) - AOP Proxy - zz9z9&url=https://zz9z9.github.io/posts/spring-transactional-part1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-entity-manager-persistence-context/">EntityManager와 영속성 컨텍스트</a><li><a href="/posts/jpa-id-generation-strategy/">JPA/Hibernate ID 생성 전략</a><li><a href="/posts/aws-vpc/">AWS VPC(Virtual Private Cloud) - 기초 개념</a><li><a href="/posts/aws-efs/">AWS EFS(Elastic File System) - 기초 개념</a><li><a href="/posts/aws-intro/">AWS - 상품 살펴보기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/spring-restdocs/"><div class="card-body"> <span class="timeago small" > Apr 24, 2025 <i class="unloaded">2025-04-24T20:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring - Spring Rest Docs란 ?</h3><div class="text-muted small"><p> Spring REST Docs RESTful 서비스를 문서화하는 데 도움을 주는 도구 Asciidoctor로 작성한 수동 문서와 Spring MVC Test를 통해 자동 생성된 스니펫을 결합하여 사용 Spring WebFlux의 WebTestClient나 REST Assured 5 사용도 가능 이 프...</p></div></div></a></div><div class="card"> <a href="/posts/spring-versions/"><div class="card-body"> <span class="timeago small" > Jul 26, 2025 <i class="unloaded">2025-07-26T00:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring - Spring Boot 버전 현황 (25.07.26)</h3><div class="text-muted small"><p> Spring Boot / Spring 릴리즈 및 지원 종료 일정 Spring Boot Spring Boot는 6개월마다 새로운 메이저 또는 마이너 버전을 릴리스 (5월 / 11월) (보통) 세 번째주 목요일에 릴리스를 목표로 함 Branch Initial Release End of OSS ...</p></div></div></a></div><div class="card"> <a href="/posts/what-is-spring-framework/"><div class="card-body"> <span class="timeago small" > Aug 19, 2025 <i class="unloaded">2025-08-19T22:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring - Spring Framework 알아보기</h3><div class="text-muted small"><p> 스프링 ? “Spring”이라는 용어는 문맥에 따라 다른 의미를 가진다. 원래는 Spring Framework 프로젝트 자체를 가리키는 말이었으며, 거기서 모든 것이 시작됐다. 시간이 지나면서 Spring Framework 위에 다른 Spring 프로젝트들이 만들어졌다. 즉, 각 프...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/nginx-rate-limiting/" class="btn btn-outline-primary" prompt="Older"><p>WEB - nginx 처리율 제한 살펴보기</p></a> <a href="/posts/mysql-char-vs-varchar/" class="btn btn-outline-primary" prompt="Newer"><p>MySQL - CHAR vs VARCHAR</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/username">Lee JaeYoon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/web/">WEB</a> <a class="post-tag" href="/tags/infra/">Infra</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/spring-batch/">Spring Batch</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zz9z9.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
